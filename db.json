{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/README.md","path":"README.md","modified":1,"renderable":0},{"_id":"themes/mabu-docs/source/index.js","path":"index.js","modified":1,"renderable":1},{"_id":"themes/mabu-docs/source/markdown.min.css","path":"markdown.min.css","modified":1,"renderable":1},{"_id":"themes/mabu-docs/source/local-search.min.js","path":"local-search.min.js","modified":1,"renderable":1},{"_id":"themes/mabu-docs/source/style.min.css","path":"style.min.css","modified":1,"renderable":1},{"_id":"source/assets/img/download-suka.png","path":"assets/img/download-suka.png","modified":1,"renderable":0},{"_id":"themes/mabu-docs/source/jquery.min.js","path":"jquery.min.js","modified":1,"renderable":1},{"_id":"source/assets/img/hexo-theme-suka.png","path":"assets/img/hexo-theme-suka.png","modified":1,"renderable":0}],"Cache":[{"_id":"source/.DS_Store","hash":"ae76abf701b4f2168fe91688fc54e91065e029a3","modified":1554911726341},{"_id":"source/README.md","hash":"7b00c7af6da9974fc401d257d2cd1bcb6d9525e2","modified":1554911726342},{"_id":"source/index.md","hash":"82024ed7ebf772c9edd4aecba590e917d67a6b5a","modified":1554912300054},{"_id":"source/linux.md","hash":"2a37d45f0a317b36fea43f491a88b8eefe8eadf3","modified":1554912124282},{"_id":"themes/mabu-docs/_config.yml","hash":"5c7281bc08b77a10a8793b168cb724cc7377d155","modified":1554911726367},{"_id":"source/windows.md","hash":"9e379f5a84d1ef1aca668c433b425c571bc1ce66","modified":1554912181063},{"_id":"source/linux_question.md","hash":"6fe76bc88713bfcf2344d49f35681f7aabf9ad20","modified":1554911726360},{"_id":"themes/mabu-docs/.DS_Store","hash":"713e52d45635723c46988133053bb0b70b53f75d","modified":1554911726366},{"_id":"themes/mabu-docs/gulpfile.js","hash":"409bc24719e667891613df217fca3b0294cbd43a","modified":1554911726369},{"_id":"source/windows_question.md","hash":"1a5046191434a83d65b010841d4665d495e058c0","modified":1554911726362},{"_id":"source/assets/.DS_Store","hash":"26bd60d409b26e8b9d9298516f63fd293975ae13","modified":1554911726346},{"_id":"source/_data/menu.json","hash":"381fee8aea954907decf07f3d8783be0fa69e13d","modified":1554911726344},{"_id":"source/en/.DS_Store","hash":"f953b81d9a218882624837f78d51e889694fc45b","modified":1554911726352},{"_id":"source/en/linux.md","hash":"98303d4f3432ff417191fa3c84ed698f7ec00976","modified":1554911726354},{"_id":"source/en/linux_question.md","hash":"01249ac90533c6bb1589a6db0e68f5141c2d5d64","modified":1554911726355},{"_id":"themes/mabu-docs/languages/.DS_Store","hash":"a4b807136f4896f260b81348a4e1de07b37bb3e5","modified":1554911726371},{"_id":"source/en/windows.md","hash":"c061672930f0f0fa5135cb281095e224547ab61e","modified":1554911726356},{"_id":"source/en/windows_question.md","hash":"bd331ef341d5e12f70e8d9af57e011244468c1b7","modified":1554911726357},{"_id":"themes/mabu-docs/languages/en.yml","hash":"f0e74fd583b817db4eef990cd00fdff202aabee9","modified":1554911726372},{"_id":"themes/mabu-docs/languages/zh-CN.yml","hash":"5d737767b320fb6988586b88c82057efd751576b","modified":1554911726373},{"_id":"themes/mabu-docs/layout/.DS_Store","hash":"5e4ab340f326d924a5f90c159d020d25bd7bd9ad","modified":1554911726375},{"_id":"themes/mabu-docs/layout/layout.ejs","hash":"134f965b1a2e3079c202ca692f4b4255c6d61bab","modified":1554911726385},{"_id":"themes/mabu-docs/layout/page.ejs","hash":"189d70b409ebeccfbddaa0949268a150d34beadf","modified":1554911726386},{"_id":"themes/mabu-docs/scripts/.DS_Store","hash":"880b1b8883b5b61513255f7adabc9b65f0425ee9","modified":1554911726388},{"_id":"themes/mabu-docs/src/local-search.js","hash":"fbb58cb183c81fdc770c0de918b07f3e71784f93","modified":1554911726404},{"_id":"themes/mabu-docs/src/style.css","hash":"e790229ff15419e21df3dc574e16613d617e7f08","modified":1554911726407},{"_id":"themes/mabu-docs/src/markdown.css","hash":"c79fa2055f20c392f227459218c9434e2457d186","modified":1554911726405},{"_id":"themes/mabu-docs/source/index.js","hash":"3ccac0cb737cd4a8bcfcacabc040fa4aca5c284a","modified":1554911726396},{"_id":"themes/mabu-docs/source/markdown.min.css","hash":"260567509e69791624d002b5d567d5da71c10375","modified":1554911726401},{"_id":"themes/mabu-docs/source/local-search.min.js","hash":"bdc633a876de28b60a4a2c4823b64252cda0e122","modified":1554911726399},{"_id":"themes/mabu-docs/source/style.min.css","hash":"7b26ddc13f9c672bf9e18887bbc6df25f29fe8f4","modified":1554911726402},{"_id":"source/assets/img/download-suka.png","hash":"447f5dadd288bdbc73a82d1295681122dc0bd910","modified":1554911726349},{"_id":"themes/mabu-docs/source/jquery.min.js","hash":"042dd055cd289215835a58507c9531f808e1648a","modified":1554911726398},{"_id":"source/assets/img/hexo-theme-suka.png","hash":"f937ab1a85ffc788d1d998cde7d5cb951a61922f","modified":1554911726350},{"_id":"themes/mabu-docs/layout/_partial/head.ejs","hash":"9f36be27be92d72a3e8408e9ae1a35e7b2fdd27f","modified":1554911726379},{"_id":"themes/mabu-docs/layout/_partial/footer.ejs","hash":"110f974fd40eaf65eff9ca69f6cab05481aa348c","modified":1554911726378},{"_id":"themes/mabu-docs/layout/_partial/nav-item.ejs","hash":"2937bef42f77612351cdc431f36532bffa900f2b","modified":1554911726381},{"_id":"themes/mabu-docs/layout/_partial/header.ejs","hash":"302eb05c51f58cb3512f936edcc8474ace8be535","modified":1554911726380},{"_id":"themes/mabu-docs/layout/_partial/sidebar.ejs","hash":"bd300e1e0e8420ac76a9cab932807b8e6e4bd289","modified":1554911726384},{"_id":"themes/mabu-docs/layout/_partial/search-json.ejs","hash":"04ff0b0b0bebf24bb7c3a8c8e5580fe7ff86562b","modified":1554911726383},{"_id":"themes/mabu-docs/scripts/search/index.js","hash":"27bb9343f2752632fbfeaaf1abafb8930236eee8","modified":1554911726393},{"_id":"themes/mabu-docs/scripts/search/json_generator.js","hash":"9f7e105c3562b630f2da51fff77f98a090b4ab55","modified":1554911726394},{"_id":"themes/mabu-docs/scripts/prism/index.js","hash":"536006d124632da9526638680cbc701ffedf529b","modified":1554911726391}],"Category":[],"Data":[{"_id":"menu","data":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}],"Page":[{"title":"windows版","description":"Verison 1.0.0","_content":"# HDM安装手册\n\n\n本手册主要描述了HDM安装的详细步骤\n\n## 贡献\n* [Mina](https://github.com/MinaMiao)\n* [MABU研发部](https://github.com/hand-mabu)","source":"index.md","raw":"---\ntitle: windows版\ndescription: Verison 1.0.0\n---\n# HDM安装手册\n\n\n本手册主要描述了HDM安装的详细步骤\n\n## 贡献\n* [Mina](https://github.com/MinaMiao)\n* [MABU研发部](https://github.com/hand-mabu)","date":"2019-04-10T16:05:00.054Z","updated":"2019-04-10T16:05:00.054Z","path":"index.html","comments":1,"layout":"page","_id":"cjubf4fgp0000qste5cd2kkog","content":"<h1 id=\"HDM安装手册\"><a href=\"#HDM安装手册\" class=\"headerlink\" title=\"HDM安装手册\"></a>HDM安装手册</h1><p>本手册主要描述了HDM安装的详细步骤</p>\n<h2 id=\"贡献\"><a href=\"#贡献\" class=\"headerlink\" title=\"贡献\"></a>贡献</h2><ul>\n<li><a href=\"https://github.com/MinaMiao\" target=\"_blank\" rel=\"noopener\">Mina</a></li>\n<li><a href=\"https://github.com/hand-mabu\" target=\"_blank\" rel=\"noopener\">MABU研发部</a></li>\n</ul>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<h1 id=\"HDM安装手册\"><a href=\"#HDM安装手册\" class=\"headerlink\" title=\"HDM安装手册\"></a>HDM安装手册</h1><p>本手册主要描述了HDM安装的详细步骤</p>\n<h2 id=\"贡献\"><a href=\"#贡献\" class=\"headerlink\" title=\"贡献\"></a>贡献</h2><ul>\n<li><a href=\"https://github.com/MinaMiao\" target=\"_blank\" rel=\"noopener\">Mina</a></li>\n<li><a href=\"https://github.com/hand-mabu\" target=\"_blank\" rel=\"noopener\">MABU研发部</a></li>\n</ul>\n"},{"title":"linux版","description":"Verison 1.0.0","_content":"\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\n[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n```\n>启动port端口为8080\n*对应的停止脚本*\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\ntar -zxvf /u01/software/redis-3.2.5.tar.gz\ncd /u01/HDM/redis-3.2.5\nsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\nmkdir /u01/HDM/redis-3.2.5/redis\nsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\nHint: It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\n先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\n/*******************************注释结束*********************************/\nvi /u01/HDM/redis-3.2.5/redis.conf\n1.启动port端口为6379\n2.将daemonize的值改为yes\n3.logs\npidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\nlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\ndir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\n将daemonize的值改为yes （默认值为no）\n>启动命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n停止命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n　　或者\npkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\n本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\n```yaml\n在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n```\n(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\n/******************************注释开始*******************************/\n这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\n/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\nmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\n```yaml\n[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\n<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\n本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\n注意：模板文件上传路径默认如下：\n\n需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\ncp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\nvi /home/hdm/.bash_profile\n\n设置java环境变量\n```\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n\n配置maven的环境变量\n```\nexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n\n注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\nredis\n启动/停止\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n\nTomcat\n启动/停止\n/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\nhttp://172.16.2.112:8080/core\nhttp://172.16.2.113:8080/core\n初始用户admin/admin","source":"linux.md","raw":"---\ntitle: linux版\npermalink: /linux/\ndescription: Verison 1.0.0\n---\n\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\n[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n```\n>启动port端口为8080\n*对应的停止脚本*\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\ntar -zxvf /u01/software/redis-3.2.5.tar.gz\ncd /u01/HDM/redis-3.2.5\nsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\nmkdir /u01/HDM/redis-3.2.5/redis\nsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\nHint: It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\n先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\n/*******************************注释结束*********************************/\nvi /u01/HDM/redis-3.2.5/redis.conf\n1.启动port端口为6379\n2.将daemonize的值改为yes\n3.logs\npidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\nlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\ndir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\n将daemonize的值改为yes （默认值为no）\n>启动命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n停止命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n　　或者\npkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\n本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\n```yaml\n在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n```\n(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\n/******************************注释开始*******************************/\n这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\n/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\nmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\n```yaml\n[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\n<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\n本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\n注意：模板文件上传路径默认如下：\n\n需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\ncp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\nvi /home/hdm/.bash_profile\n\n设置java环境变量\n```\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n\n配置maven的环境变量\n```\nexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n\n注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\nredis\n启动/停止\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n\nTomcat\n启动/停止\n/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\nhttp://172.16.2.112:8080/core\nhttp://172.16.2.113:8080/core\n初始用户admin/admin","date":"2019-04-10T16:02:04.282Z","updated":"2019-04-10T16:02:04.282Z","path":"/linux/index.html","comments":1,"layout":"page","_id":"cjubf4fgq0001qstemfxgylso","content":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ pwd\n/u01/software\n<span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ ls <span class=\"token punctuation\">-</span>l\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17<span class=\"token punctuation\">:</span>11 hbiparent.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14<span class=\"token punctuation\">:</span>05 HDM_SOURCE.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17<span class=\"token punctuation\">:</span>11 jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17<span class=\"token punctuation\">:</span>11 redis<span class=\"token punctuation\">-</span>3.2.5.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       165 Feb  7 17<span class=\"token punctuation\">:</span>11 starthdm.sh\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       129 Feb  7 17<span class=\"token punctuation\">:</span>11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$ /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/startup.sh\nUsing CATALINA_BASE<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_HOME<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_TMPDIR<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/temp\nUsing JRE_HOME<span class=\"token punctuation\">:</span>        /usr\nUsing CLASSPATH<span class=\"token punctuation\">:</span>       /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/bootstrap.jar<span class=\"token punctuation\">:</span>/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/tomcat<span class=\"token punctuation\">-</span>juli.jar\nTomcat started.\n<span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">make<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Leaving directory `/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/src'\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">日志：\n<span class=\"token key atrule\">Hint</span><span class=\"token punctuation\">:</span> It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd  /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin<span class=\"token punctuation\">:</span>$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.<span class=\"token punctuation\">:</span>$JAVA_LIB/tools.jar<span class=\"token punctuation\">:</span>$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nexport PATH=$<span class=\"token punctuation\">{</span>MAVEN_HOME<span class=\"token punctuation\">}</span>/bin<span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>PATH<span class=\"token punctuation\">}</span>\nexport PATH=$PATH<span class=\"token punctuation\">:</span>/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nexport CATALINE_BASH=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 ~<span class=\"token punctuation\">]</span>$ mvn <span class=\"token punctuation\">-</span>v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015<span class=\"token punctuation\">-</span>11<span class=\"token punctuation\">-</span>11T00<span class=\"token punctuation\">:</span>41<span class=\"token punctuation\">:</span>47+08<span class=\"token punctuation\">:</span>00)\nMaven home<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nJava version<span class=\"token punctuation\">:</span> 1.8.0_111<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">vendor</span><span class=\"token punctuation\">:</span> Oracle Corporation\nJava home<span class=\"token punctuation\">:</span> /u01/HDM/jdk1.8.0_111/jre\nDefault locale<span class=\"token punctuation\">:</span> en_US<span class=\"token punctuation\">,</span> platform encoding<span class=\"token punctuation\">:</span> UTF<span class=\"token punctuation\">-</span><span class=\"token number\">8</span>\nOS name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2.6.32-358.el6.x86_64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">arch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"amd64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"unix\"</span>\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">CREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n</code></pre>\n<p>####授权</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">grant connect <span class=\"token punctuation\">,</span>resource<span class=\"token punctuation\">,</span>create view<span class=\"token punctuation\">,</span>create any directory <span class=\"token punctuation\">,</span>create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\nunzip /u01/software/core<span class=\"token punctuation\">-</span>db.zip\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$ pwd\n/u01/HDM/core<span class=\"token punctuation\">-</span>db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core<span class=\"token punctuation\">-</span>db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mvn process<span class=\"token punctuation\">-</span>resources <span class=\"token punctuation\">-</span>D skipLiquibaseRun=false <span class=\"token punctuation\">-</span>D db.driver=oracle.jdbc.driver.OracleDriver <span class=\"token punctuation\">-</span>D db.url=jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST <span class=\"token punctuation\">-</span>Ddb.user=hdm <span class=\"token punctuation\">-</span>Ddb.password=z8MhZismTJ\n</code></pre>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Reactor Summary<span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> core<span class=\"token punctuation\">-</span>db <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.. SUCCESS <span class=\"token punctuation\">[</span>  1.073 s<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> BUILD SUCCESS\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Total time<span class=\"token punctuation\">:</span> 39.836 s\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Finished at<span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2017-02-09T09:55:50+08:00</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Final Memory<span class=\"token punctuation\">:</span> 68M/974M\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">&lt;Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/<span class=\"token punctuation\">></span>\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre><code class=\"yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre><code class=\"yaml\">make[1]: Leaving directory `/u01/HDM/redis-3.2.5/src&#39;\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre><code class=\"yaml\">日志：\nHint: It&#39;s a good idea to run &#39;make test&#39; ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre><code class=\"yaml\">cd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre><code class=\"yaml\">cd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre><code class=\"yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre><code class=\"yaml\">[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;2.6.32-358.el6.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre><code class=\"yaml\">CREATE TABLESPACE &quot;HDM_DATA&quot; \n    LOGGING \n    DATAFILE &#39;/u01/app/oracle/oradata/HYTST/hdm_data01.dbf&#39; SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre><code class=\"yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE &quot;TEMP&quot;;\n</code></pre>\n<p>####授权</p>\n<pre><code class=\"yaml\">grant connect ,resource,create view,create any directory ,create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre><code class=\"yaml\">cd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre><code class=\"yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre><code class=\"yaml\">mvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n</code></pre>\n<pre><code class=\"yaml\">[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre><code class=\"yaml\">&lt;Resource auth=&quot;Container&quot; driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot; name=&quot;jdbc/hbi_dev&quot; type=&quot;javax.sql.DataSource&quot; url=&quot;jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST&quot; username=&quot;hdm&quot; password=&quot;z8MhZismTJ&quot;/&gt;\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n"},{"title":"linux版","description":"Verison 1.0.0","_content":"\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\r/u01/software\r[hdm@hdm01 software]$ ls -l\r-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\r-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\r-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\r-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\r-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\r-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\r-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\r-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\rcd /u01/HDM\rtar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\r[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\rUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\rUsing JRE_HOME:        /usr\rUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\rTomcat started.\r[hdm@hdm01 bin]$\n```\n>启动port端口为8080\r*对应的停止脚本*\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\rtar -zxvf /u01/software/redis-3.2.5.tar.gz\rcd /u01/HDM/redis-3.2.5\rsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\rmkdir /u01/HDM/redis-3.2.5/redis\rsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\rHint: It's a good idea to run 'make test' ;)\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\r先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\r/*******************************注释结束*********************************/\rvi /u01/HDM/redis-3.2.5/redis.conf\r1.启动port端口为6379\r2.将daemonize的值改为yes\r3.logs\rpidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\rlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\rdir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\r将daemonize的值改为yes （默认值为no）\n>启动命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r停止命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r　　或者\rpkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\r本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\rtar -zxvf /u01/software/jdk-8u111-linux-x64.gz\r设置java环境变量\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\rtar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\rexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\rApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\rMaven home: /u01/HDM/apache-maven-3.3.9\rJava version: 1.8.0_111, vendor: Oracle Corporation\rJava home: /u01/HDM/jdk1.8.0_111/jre\rDefault locale: en_US, platform encoding: UTF-8\rOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \r    LOGGING \r    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \r    AUTOEXTEND \r    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \rSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\runzip /u01/software/core-db.zip\r[hdm@hdm01 core-db]$ pwd\r/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\r```yaml\n在源码文件夹下执行：mvn clean install\r例如本次：\rcd  /u01/HDM/core-db\rmvn clean install\n```\r(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\r/******************************注释开始*******************************/\r这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\r/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\rmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\r```yaml\r[INFO] Reactor Summary:\r[INFO] core-db ............................................ SUCCESS [  1.073 s]\r[INFO] ------------------------------------------------------------------------\r[INFO] BUILD SUCCESS\r[INFO] ------------------------------------------------------------------------\r[INFO] Total time: 39.836 s\r[INFO] Finished at: 2017-02-09T09:55:50+08:00\r[INFO] Final Memory: 68M/974M\r[INFO] ------------------------------------------------------------------------\r[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\r<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\r本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\r注意：模板文件上传路径默认如下：\r\r需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\rcp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\r$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \r-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\rvi /home/hdm/.bash_profile\r\r设置java环境变量\n```\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\r\r配置maven的环境变量\n```\rexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\r\r注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\rredis\r启动/停止\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r\rTomcat\r启动/停止\r/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\rhttp://172.16.2.112:8080/core\rhttp://172.16.2.113:8080/core\r初始用户admin/admin","source":"linux_question.md","raw":"---\ntitle: linux版\npermalink: /linux_question/\ndescription: Verison 1.0.0\n---\n\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\r/u01/software\r[hdm@hdm01 software]$ ls -l\r-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\r-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\r-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\r-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\r-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\r-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\r-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\r-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\rcd /u01/HDM\rtar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\r[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\rUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\rUsing JRE_HOME:        /usr\rUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\rTomcat started.\r[hdm@hdm01 bin]$\n```\n>启动port端口为8080\r*对应的停止脚本*\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\rtar -zxvf /u01/software/redis-3.2.5.tar.gz\rcd /u01/HDM/redis-3.2.5\rsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\rmkdir /u01/HDM/redis-3.2.5/redis\rsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\rHint: It's a good idea to run 'make test' ;)\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\r先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\r/*******************************注释结束*********************************/\rvi /u01/HDM/redis-3.2.5/redis.conf\r1.启动port端口为6379\r2.将daemonize的值改为yes\r3.logs\rpidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\rlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\rdir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\r将daemonize的值改为yes （默认值为no）\n>启动命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r停止命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r　　或者\rpkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\r本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\rtar -zxvf /u01/software/jdk-8u111-linux-x64.gz\r设置java环境变量\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\rtar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\rexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\rApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\rMaven home: /u01/HDM/apache-maven-3.3.9\rJava version: 1.8.0_111, vendor: Oracle Corporation\rJava home: /u01/HDM/jdk1.8.0_111/jre\rDefault locale: en_US, platform encoding: UTF-8\rOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \r    LOGGING \r    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \r    AUTOEXTEND \r    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \rSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\runzip /u01/software/core-db.zip\r[hdm@hdm01 core-db]$ pwd\r/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\r```yaml\n在源码文件夹下执行：mvn clean install\r例如本次：\rcd  /u01/HDM/core-db\rmvn clean install\n```\r(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\r/******************************注释开始*******************************/\r这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\r/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\rmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\r```yaml\r[INFO] Reactor Summary:\r[INFO] core-db ............................................ SUCCESS [  1.073 s]\r[INFO] ------------------------------------------------------------------------\r[INFO] BUILD SUCCESS\r[INFO] ------------------------------------------------------------------------\r[INFO] Total time: 39.836 s\r[INFO] Finished at: 2017-02-09T09:55:50+08:00\r[INFO] Final Memory: 68M/974M\r[INFO] ------------------------------------------------------------------------\r[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\r<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\r本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\r注意：模板文件上传路径默认如下：\r\r需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\rcp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\r$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \r-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\rvi /home/hdm/.bash_profile\r\r设置java环境变量\n```\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\r\r配置maven的环境变量\n```\rexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\r\r注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\rredis\r启动/停止\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r\rTomcat\r启动/停止\r/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\rhttp://172.16.2.112:8080/core\rhttp://172.16.2.113:8080/core\r初始用户admin/admin","date":"2019-04-10T15:55:26.360Z","updated":"2019-04-10T15:55:26.360Z","path":"/linux_question/index.html","comments":1,"layout":"page","_id":"cjubf4fgr0002qstej29lqkxq","content":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ pwd\n/u01/software\n<span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ ls <span class=\"token punctuation\">-</span>l\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17<span class=\"token punctuation\">:</span>11 hbiparent.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14<span class=\"token punctuation\">:</span>05 HDM_SOURCE.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17<span class=\"token punctuation\">:</span>11 jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17<span class=\"token punctuation\">:</span>11 redis<span class=\"token punctuation\">-</span>3.2.5.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       165 Feb  7 17<span class=\"token punctuation\">:</span>11 starthdm.sh\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       129 Feb  7 17<span class=\"token punctuation\">:</span>11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$ /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/startup.sh\nUsing CATALINA_BASE<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_HOME<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_TMPDIR<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/temp\nUsing JRE_HOME<span class=\"token punctuation\">:</span>        /usr\nUsing CLASSPATH<span class=\"token punctuation\">:</span>       /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/bootstrap.jar<span class=\"token punctuation\">:</span>/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/tomcat<span class=\"token punctuation\">-</span>juli.jar\nTomcat started.\n<span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">make<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Leaving directory `/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/src'\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">日志：\n<span class=\"token key atrule\">Hint</span><span class=\"token punctuation\">:</span> It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd  /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin<span class=\"token punctuation\">:</span>$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.<span class=\"token punctuation\">:</span>$JAVA_LIB/tools.jar<span class=\"token punctuation\">:</span>$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nexport PATH=$<span class=\"token punctuation\">{</span>MAVEN_HOME<span class=\"token punctuation\">}</span>/bin<span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>PATH<span class=\"token punctuation\">}</span>\nexport PATH=$PATH<span class=\"token punctuation\">:</span>/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nexport CATALINE_BASH=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 ~<span class=\"token punctuation\">]</span>$ mvn <span class=\"token punctuation\">-</span>v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015<span class=\"token punctuation\">-</span>11<span class=\"token punctuation\">-</span>11T00<span class=\"token punctuation\">:</span>41<span class=\"token punctuation\">:</span>47+08<span class=\"token punctuation\">:</span>00)\nMaven home<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nJava version<span class=\"token punctuation\">:</span> 1.8.0_111<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">vendor</span><span class=\"token punctuation\">:</span> Oracle Corporation\nJava home<span class=\"token punctuation\">:</span> /u01/HDM/jdk1.8.0_111/jre\nDefault locale<span class=\"token punctuation\">:</span> en_US<span class=\"token punctuation\">,</span> platform encoding<span class=\"token punctuation\">:</span> UTF<span class=\"token punctuation\">-</span><span class=\"token number\">8</span>\nOS name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2.6.32-358.el6.x86_64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">arch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"amd64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"unix\"</span>\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">CREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n</code></pre>\n<p>####授权</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">grant connect <span class=\"token punctuation\">,</span>resource<span class=\"token punctuation\">,</span>create view<span class=\"token punctuation\">,</span>create any directory <span class=\"token punctuation\">,</span>create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\nunzip /u01/software/core<span class=\"token punctuation\">-</span>db.zip\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$ pwd\n/u01/HDM/core<span class=\"token punctuation\">-</span>db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core<span class=\"token punctuation\">-</span>db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mvn process<span class=\"token punctuation\">-</span>resources <span class=\"token punctuation\">-</span>D skipLiquibaseRun=false <span class=\"token punctuation\">-</span>D db.driver=oracle.jdbc.driver.OracleDriver <span class=\"token punctuation\">-</span>D db.url=jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST <span class=\"token punctuation\">-</span>Ddb.user=hdm <span class=\"token punctuation\">-</span>Ddb.password=z8MhZismTJ\n</code></pre>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Reactor Summary<span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> core<span class=\"token punctuation\">-</span>db <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.. SUCCESS <span class=\"token punctuation\">[</span>  1.073 s<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> BUILD SUCCESS\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Total time<span class=\"token punctuation\">:</span> 39.836 s\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Finished at<span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2017-02-09T09:55:50+08:00</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Final Memory<span class=\"token punctuation\">:</span> 68M/974M\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">&lt;Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/<span class=\"token punctuation\">></span>\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre><code class=\"yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre><code class=\"yaml\">make[1]: Leaving directory `/u01/HDM/redis-3.2.5/src&#39;\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre><code class=\"yaml\">日志：\nHint: It&#39;s a good idea to run &#39;make test&#39; ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre><code class=\"yaml\">cd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre><code class=\"yaml\">cd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre><code class=\"yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre><code class=\"yaml\">[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;2.6.32-358.el6.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre><code class=\"yaml\">CREATE TABLESPACE &quot;HDM_DATA&quot; \n    LOGGING \n    DATAFILE &#39;/u01/app/oracle/oradata/HYTST/hdm_data01.dbf&#39; SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre><code class=\"yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE &quot;TEMP&quot;;\n</code></pre>\n<p>####授权</p>\n<pre><code class=\"yaml\">grant connect ,resource,create view,create any directory ,create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre><code class=\"yaml\">cd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre><code class=\"yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre><code class=\"yaml\">mvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n</code></pre>\n<pre><code class=\"yaml\">[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre><code class=\"yaml\">&lt;Resource auth=&quot;Container&quot; driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot; name=&quot;jdbc/hbi_dev&quot; type=&quot;javax.sql.DataSource&quot; url=&quot;jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST&quot; username=&quot;hdm&quot; password=&quot;z8MhZismTJ&quot;/&gt;\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n"},{"title":"windows版","description":"Verison 1.0.0","_content":"\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\n[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n```\n>启动port端口为8080\n*对应的停止脚本*\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\ntar -zxvf /u01/software/redis-3.2.5.tar.gz\ncd /u01/HDM/redis-3.2.5\nsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\nmkdir /u01/HDM/redis-3.2.5/redis\nsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\nHint: It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\n先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\n/*******************************注释结束*********************************/\nvi /u01/HDM/redis-3.2.5/redis.conf\n1.启动port端口为6379\n2.将daemonize的值改为yes\n3.logs\npidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\nlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\ndir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\n将daemonize的值改为yes （默认值为no）\n>启动命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n停止命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n　　或者\npkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\n本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\n```yaml\n在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n```\n(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\n/******************************注释开始*******************************/\n这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\n/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\nmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\n```yaml\n[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\n<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\n本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\n注意：模板文件上传路径默认如下：\n\n需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\ncp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\nvi /home/hdm/.bash_profile\n\n设置java环境变量\n```\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n\n配置maven的环境变量\n```\nexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n\n注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\nredis\n启动/停止\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n\nTomcat\n启动/停止\n/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\nhttp://172.16.2.112:8080/core\nhttp://172.16.2.113:8080/core\n初始用户admin/admin","source":"windows.md","raw":"---\ntitle: windows版\npermalink: /windows/\ndescription: Verison 1.0.0\n---\n\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\n[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n```\n>启动port端口为8080\n*对应的停止脚本*\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\ntar -zxvf /u01/software/redis-3.2.5.tar.gz\ncd /u01/HDM/redis-3.2.5\nsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\nmkdir /u01/HDM/redis-3.2.5/redis\nsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\nHint: It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\n先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\n/*******************************注释结束*********************************/\nvi /u01/HDM/redis-3.2.5/redis.conf\n1.启动port端口为6379\n2.将daemonize的值改为yes\n3.logs\npidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\nlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\ndir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\n将daemonize的值改为yes （默认值为no）\n>启动命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n停止命令：\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n　　或者\npkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\n本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\n```yaml\n在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n```\n(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\n/******************************注释开始*******************************/\n这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\n/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\nmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\n```yaml\n[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\n<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\n本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\n注意：模板文件上传路径默认如下：\n\n需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\ncp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\nvi /home/hdm/.bash_profile\n\n设置java环境变量\n```\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n\n配置maven的环境变量\n```\nexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n\n注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\nredis\n启动/停止\n/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\n/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\n\nTomcat\n启动/停止\n/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\nhttp://172.16.2.112:8080/core\nhttp://172.16.2.113:8080/core\n初始用户admin/admin","date":"2019-04-10T16:03:01.063Z","updated":"2019-04-10T16:03:01.063Z","path":"/windows/index.html","comments":1,"layout":"page","_id":"cjubf4fgu0003qste4ktcj33i","content":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ pwd\n/u01/software\n<span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ ls <span class=\"token punctuation\">-</span>l\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17<span class=\"token punctuation\">:</span>11 hbiparent.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14<span class=\"token punctuation\">:</span>05 HDM_SOURCE.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17<span class=\"token punctuation\">:</span>11 jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17<span class=\"token punctuation\">:</span>11 redis<span class=\"token punctuation\">-</span>3.2.5.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       165 Feb  7 17<span class=\"token punctuation\">:</span>11 starthdm.sh\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       129 Feb  7 17<span class=\"token punctuation\">:</span>11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$ /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/startup.sh\nUsing CATALINA_BASE<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_HOME<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_TMPDIR<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/temp\nUsing JRE_HOME<span class=\"token punctuation\">:</span>        /usr\nUsing CLASSPATH<span class=\"token punctuation\">:</span>       /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/bootstrap.jar<span class=\"token punctuation\">:</span>/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/tomcat<span class=\"token punctuation\">-</span>juli.jar\nTomcat started.\n<span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">make<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Leaving directory `/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/src'\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">日志：\n<span class=\"token key atrule\">Hint</span><span class=\"token punctuation\">:</span> It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd  /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin<span class=\"token punctuation\">:</span>$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.<span class=\"token punctuation\">:</span>$JAVA_LIB/tools.jar<span class=\"token punctuation\">:</span>$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nexport PATH=$<span class=\"token punctuation\">{</span>MAVEN_HOME<span class=\"token punctuation\">}</span>/bin<span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>PATH<span class=\"token punctuation\">}</span>\nexport PATH=$PATH<span class=\"token punctuation\">:</span>/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nexport CATALINE_BASH=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 ~<span class=\"token punctuation\">]</span>$ mvn <span class=\"token punctuation\">-</span>v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015<span class=\"token punctuation\">-</span>11<span class=\"token punctuation\">-</span>11T00<span class=\"token punctuation\">:</span>41<span class=\"token punctuation\">:</span>47+08<span class=\"token punctuation\">:</span>00)\nMaven home<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nJava version<span class=\"token punctuation\">:</span> 1.8.0_111<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">vendor</span><span class=\"token punctuation\">:</span> Oracle Corporation\nJava home<span class=\"token punctuation\">:</span> /u01/HDM/jdk1.8.0_111/jre\nDefault locale<span class=\"token punctuation\">:</span> en_US<span class=\"token punctuation\">,</span> platform encoding<span class=\"token punctuation\">:</span> UTF<span class=\"token punctuation\">-</span><span class=\"token number\">8</span>\nOS name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2.6.32-358.el6.x86_64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">arch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"amd64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"unix\"</span>\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">CREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n</code></pre>\n<p>####授权</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">grant connect <span class=\"token punctuation\">,</span>resource<span class=\"token punctuation\">,</span>create view<span class=\"token punctuation\">,</span>create any directory <span class=\"token punctuation\">,</span>create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\nunzip /u01/software/core<span class=\"token punctuation\">-</span>db.zip\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$ pwd\n/u01/HDM/core<span class=\"token punctuation\">-</span>db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core<span class=\"token punctuation\">-</span>db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mvn process<span class=\"token punctuation\">-</span>resources <span class=\"token punctuation\">-</span>D skipLiquibaseRun=false <span class=\"token punctuation\">-</span>D db.driver=oracle.jdbc.driver.OracleDriver <span class=\"token punctuation\">-</span>D db.url=jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST <span class=\"token punctuation\">-</span>Ddb.user=hdm <span class=\"token punctuation\">-</span>Ddb.password=z8MhZismTJ\n</code></pre>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Reactor Summary<span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> core<span class=\"token punctuation\">-</span>db <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.. SUCCESS <span class=\"token punctuation\">[</span>  1.073 s<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> BUILD SUCCESS\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Total time<span class=\"token punctuation\">:</span> 39.836 s\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Finished at<span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2017-02-09T09:55:50+08:00</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Final Memory<span class=\"token punctuation\">:</span> 68M/974M\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">&lt;Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/<span class=\"token punctuation\">></span>\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre><code class=\"yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre><code class=\"yaml\">make[1]: Leaving directory `/u01/HDM/redis-3.2.5/src&#39;\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre><code class=\"yaml\">日志：\nHint: It&#39;s a good idea to run &#39;make test&#39; ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre><code class=\"yaml\">cd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre><code class=\"yaml\">cd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre><code class=\"yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre><code class=\"yaml\">[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;2.6.32-358.el6.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre><code class=\"yaml\">CREATE TABLESPACE &quot;HDM_DATA&quot; \n    LOGGING \n    DATAFILE &#39;/u01/app/oracle/oradata/HYTST/hdm_data01.dbf&#39; SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre><code class=\"yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE &quot;TEMP&quot;;\n</code></pre>\n<p>####授权</p>\n<pre><code class=\"yaml\">grant connect ,resource,create view,create any directory ,create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre><code class=\"yaml\">cd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre><code class=\"yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre><code class=\"yaml\">mvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n</code></pre>\n<pre><code class=\"yaml\">[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre><code class=\"yaml\">&lt;Resource auth=&quot;Container&quot; driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot; name=&quot;jdbc/hbi_dev&quot; type=&quot;javax.sql.DataSource&quot; url=&quot;jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST&quot; username=&quot;hdm&quot; password=&quot;z8MhZismTJ&quot;/&gt;\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n"},{"title":"windows版","description":"Verison 1.0.0","_content":"\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\r/u01/software\r[hdm@hdm01 software]$ ls -l\r-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\r-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\r-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\r-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\r-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\r-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\r-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\r-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\rcd /u01/HDM\rtar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\r[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\rUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\rUsing JRE_HOME:        /usr\rUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\rTomcat started.\r[hdm@hdm01 bin]$\n```\n>启动port端口为8080\r*对应的停止脚本*\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\rtar -zxvf /u01/software/redis-3.2.5.tar.gz\rcd /u01/HDM/redis-3.2.5\rsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\rmkdir /u01/HDM/redis-3.2.5/redis\rsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\rHint: It's a good idea to run 'make test' ;)\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\r先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\r/*******************************注释结束*********************************/\rvi /u01/HDM/redis-3.2.5/redis.conf\r1.启动port端口为6379\r2.将daemonize的值改为yes\r3.logs\rpidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\rlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\rdir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\r将daemonize的值改为yes （默认值为no）\n>启动命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r停止命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r　　或者\rpkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\r本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\rtar -zxvf /u01/software/jdk-8u111-linux-x64.gz\r设置java环境变量\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\rtar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\rexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\rApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\rMaven home: /u01/HDM/apache-maven-3.3.9\rJava version: 1.8.0_111, vendor: Oracle Corporation\rJava home: /u01/HDM/jdk1.8.0_111/jre\rDefault locale: en_US, platform encoding: UTF-8\rOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \r    LOGGING \r    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \r    AUTOEXTEND \r    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \rSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\runzip /u01/software/core-db.zip\r[hdm@hdm01 core-db]$ pwd\r/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\r```yaml\n在源码文件夹下执行：mvn clean install\r例如本次：\rcd  /u01/HDM/core-db\rmvn clean install\n```\r(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\r/******************************注释开始*******************************/\r这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\r/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\rmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\r```yaml\r[INFO] Reactor Summary:\r[INFO] core-db ............................................ SUCCESS [  1.073 s]\r[INFO] ------------------------------------------------------------------------\r[INFO] BUILD SUCCESS\r[INFO] ------------------------------------------------------------------------\r[INFO] Total time: 39.836 s\r[INFO] Finished at: 2017-02-09T09:55:50+08:00\r[INFO] Final Memory: 68M/974M\r[INFO] ------------------------------------------------------------------------\r[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\r<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\r本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\r注意：模板文件上传路径默认如下：\r\r需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\rcp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\r$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \r-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\rvi /home/hdm/.bash_profile\r\r设置java环境变量\n```\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\r\r配置maven的环境变量\n```\rexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\r\r注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\rredis\r启动/停止\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r\rTomcat\r启动/停止\r/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\rhttp://172.16.2.112:8080/core\rhttp://172.16.2.113:8080/core\r初始用户admin/admin","source":"windows_question.md","raw":"---\ntitle: windows版\npermalink: /windows_question/\ndescription: Verison 1.0.0\n---\n\n# 安装应用软件\n\n## 介质\n\n####程序目录\nmkdir -p /u01/software\nchown -R hdm:dba /u01\n####上传介质\n>hdm用户上传介质\n\n```yaml\n[hdm@hdm01 software]$ pwd\r/u01/software\r[hdm@hdm01 software]$ ls -l\r-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\r-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\r-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\r-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\r-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\r-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\r-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\r-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n```\n\n## 安装tomcat\n\n####下载tomcat\n\n>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz\n\n####安装tomcat\n```yaml\nmkdir /u01/HDM\rcd /u01/HDM\rtar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n```\n\n\n####启动tomcat\n>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\n\n```yaml\r[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\rUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\rUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\rUsing JRE_HOME:        /usr\rUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\rTomcat started.\r[hdm@hdm01 bin]$\n```\n>启动port端口为8080\r*对应的停止脚本*\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n\n## 安装redis\n####下载redis\n\n>本次安装的redis介质如下：redis-3.2.5.tar.gz\n\n####安装redis\n\n>cd /u01/HDM\rtar -zxvf /u01/software/redis-3.2.5.tar.gz\rcd /u01/HDM/redis-3.2.5\rsudo make \n\n日志会留下如下：\n```yaml\nmake[1]: Leaving directory `/u01/HDM/redis-3.2.5/src'\n```\n\n>cd /u01/HDM/redis-3.2.5/src\rmkdir /u01/HDM/redis-3.2.5/redis\rsudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis\n\n```yaml\n日志：\rHint: It's a good idea to run 'make test' ;)\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\r    INSTALL install\n```\n\n####配置文件\n/*******************************注释开始*********************************/\r先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs\r/*******************************注释结束*********************************/\rvi /u01/HDM/redis-3.2.5/redis.conf\r1.启动port端口为6379\r2.将daemonize的值改为yes\r3.logs\rpidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid\rlogfile \"/u01/HDM/redis-3.2.5/logs/redis.log\"\rdir /u01/HDM/redis-3.2.5/logs\n####启动redis\nRedis放在服务器后台运行，修改配置文件属性：\r将daemonize的值改为yes （默认值为no）\n>启动命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r停止命令：\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r　　或者\rpkill redis-server\n\n##安装mavenv 部署工具\n####说明\n安装maven\n####下载maven\nURL: http://maven.apache.org/download.cgi\r本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz\n####安装jdk\n```yaml\ncd  /u01/HDM\rtar -zxvf /u01/software/jdk-8u111-linux-x64.gz\r设置java环境变量\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\n####安装maven\n```yaml\ncd /u01/HDM\rtar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n```\n####环境变量\n```yaml\n配置maven的环境变量\rexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\n####安装后验证\n```yaml\n[hdm@hdm01 ~]$ mvn -v\rApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\rMaven home: /u01/HDM/apache-maven-3.3.9\rJava version: 1.8.0_111, vendor: Oracle Corporation\rJava home: /u01/HDM/jdk1.8.0_111/jre\rDefault locale: en_US, platform encoding: UTF-8\rOS name: \"linux\", version: \"2.6.32-358.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n```\n#配置\n##配置数据库\n####创建表空间\n```yaml\nCREATE TABLESPACE \"HDM_DATA\" \r    LOGGING \r    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \r    AUTOEXTEND \r    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \rSPACE MANAGEMENT  AUTO;\n```\n####创建数据库用户\n```yaml\ncreate user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n```\n####授权\n```yaml\ngrant connect ,resource,create view,create any directory ,create database link to hdm;\n```\n##配置应用\n####源代码\n```yaml\ncd /u01/HDM\runzip /u01/software/core-db.zip\r[hdm@hdm01 core-db]$ pwd\r/u01/HDM/core-db\n```\n####编译（需要连接外网）\n(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)\r```yaml\n在源码文件夹下执行：mvn clean install\r例如本次：\rcd  /u01/HDM/core-db\rmvn clean install\n```\r(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)\r/******************************注释开始*******************************/\r这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。\r/******************************注释结束*******************************/\n####初始化数据到hdm用户（只需要在一台机器上执行）\n编译成功后，执行初始化数据库命令：\n```yaml\rmvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n```\r```yaml\r[INFO] Reactor Summary:\r[INFO] core-db ............................................ SUCCESS [  1.073 s]\r[INFO] ------------------------------------------------------------------------\r[INFO] BUILD SUCCESS\r[INFO] ------------------------------------------------------------------------\r[INFO] Total time: 39.836 s\r[INFO] Finished at: 2017-02-09T09:55:50+08:00\r[INFO] Final Memory: 68M/974M\r[INFO] ------------------------------------------------------------------------\r[hdm@hdm01 core-db]$\n```\n####修改tomcat\n修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：\n```yaml\r<Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/>\n```\r本次截图：\n####拷贝war包\n将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，\r注意：模板文件上传路径默认如下：\r\r需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。\n```\rcp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\r$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \r-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n```\n####添加永久环境变量\n编辑hdm用户目录(/home/hdm)下的.bash_profile\rvi /home/hdm/.bash_profile\r\r设置java环境变量\n```\rexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\rexport PATH=$JAVA_HOME/bin:$PATH\rexport JAVA_BIN=$JAVA_HOME/bin\rexport JAVA_LIB=$JAVA_HOME/lib\rexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n```\r\r配置maven的环境变量\n```\rexport MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\rexport PATH=${MAVEN_HOME}/bin:${PATH}\rexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\rexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\rexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n```\r\r注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。\n####redis和tomcat服务启停\n先启动redis服务，再启动tomcat服务，\rredis\r启动/停止\r/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf\r/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown\r\rTomcat\r启动/停止\r/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\r/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh\n####访问url（两个节点同样的安装方式）\n通过http://<ip>:<prot>/core访问hdm，\rhttp://172.16.2.112:8080/core\rhttp://172.16.2.113:8080/core\r初始用户admin/admin","date":"2019-04-10T15:55:26.362Z","updated":"2019-04-10T15:55:26.362Z","path":"/windows_question/index.html","comments":1,"layout":"page","_id":"cjubf4fgv0004qstexd95gs7o","content":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ pwd\n/u01/software\n<span class=\"token punctuation\">[</span>hdm@hdm01 software<span class=\"token punctuation\">]</span>$ ls <span class=\"token punctuation\">-</span>l\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17<span class=\"token punctuation\">:</span>10 apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17<span class=\"token punctuation\">:</span>11 hbiparent.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14<span class=\"token punctuation\">:</span>05 HDM_SOURCE.zip\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17<span class=\"token punctuation\">:</span>11 jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17<span class=\"token punctuation\">:</span>11 redis<span class=\"token punctuation\">-</span>3.2.5.tar.gz\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       165 Feb  7 17<span class=\"token punctuation\">:</span>11 starthdm.sh\n<span class=\"token punctuation\">-</span>rwxrwxrwx. 1 hdm dba       129 Feb  7 17<span class=\"token punctuation\">:</span>11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$ /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/startup.sh\nUsing CATALINA_BASE<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_HOME<span class=\"token punctuation\">:</span>   /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nUsing CATALINA_TMPDIR<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/temp\nUsing JRE_HOME<span class=\"token punctuation\">:</span>        /usr\nUsing CLASSPATH<span class=\"token punctuation\">:</span>       /u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/bootstrap.jar<span class=\"token punctuation\">:</span>/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8/bin/tomcat<span class=\"token punctuation\">-</span>juli.jar\nTomcat started.\n<span class=\"token punctuation\">[</span>hdm@hdm01 bin<span class=\"token punctuation\">]</span>$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">make<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Leaving directory `/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/src'\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">日志：\n<span class=\"token key atrule\">Hint</span><span class=\"token punctuation\">:</span> It's a good idea to run 'make test' ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd  /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/jdk<span class=\"token punctuation\">-</span>8u111<span class=\"token punctuation\">-</span>linux<span class=\"token punctuation\">-</span>x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin<span class=\"token punctuation\">:</span>$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.<span class=\"token punctuation\">:</span>$JAVA_LIB/tools.jar<span class=\"token punctuation\">:</span>$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\ntar <span class=\"token punctuation\">-</span>zxvf /u01/software/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9<span class=\"token punctuation\">-</span>bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nexport PATH=$<span class=\"token punctuation\">{</span>MAVEN_HOME<span class=\"token punctuation\">}</span>/bin<span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>PATH<span class=\"token punctuation\">}</span>\nexport PATH=$PATH<span class=\"token punctuation\">:</span>/u01/HDM/redis<span class=\"token punctuation\">-</span>3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\nexport CATALINE_BASH=/u01/HDM/apache<span class=\"token punctuation\">-</span>tomcat<span class=\"token punctuation\">-</span>8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>hdm@hdm01 ~<span class=\"token punctuation\">]</span>$ mvn <span class=\"token punctuation\">-</span>v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015<span class=\"token punctuation\">-</span>11<span class=\"token punctuation\">-</span>11T00<span class=\"token punctuation\">:</span>41<span class=\"token punctuation\">:</span>47+08<span class=\"token punctuation\">:</span>00)\nMaven home<span class=\"token punctuation\">:</span> /u01/HDM/apache<span class=\"token punctuation\">-</span>maven<span class=\"token punctuation\">-</span>3.3.9\nJava version<span class=\"token punctuation\">:</span> 1.8.0_111<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">vendor</span><span class=\"token punctuation\">:</span> Oracle Corporation\nJava home<span class=\"token punctuation\">:</span> /u01/HDM/jdk1.8.0_111/jre\nDefault locale<span class=\"token punctuation\">:</span> en_US<span class=\"token punctuation\">,</span> platform encoding<span class=\"token punctuation\">:</span> UTF<span class=\"token punctuation\">-</span><span class=\"token number\">8</span>\nOS name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2.6.32-358.el6.x86_64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">arch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"amd64\"</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"unix\"</span>\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">CREATE TABLESPACE \"HDM_DATA\" \n    LOGGING \n    DATAFILE '/u01/app/oracle/oradata/HYTST/hdm_data01.dbf' SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE \"TEMP\";\n</code></pre>\n<p>####授权</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">grant connect <span class=\"token punctuation\">,</span>resource<span class=\"token punctuation\">,</span>create view<span class=\"token punctuation\">,</span>create any directory <span class=\"token punctuation\">,</span>create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">cd /u01/HDM\nunzip /u01/software/core<span class=\"token punctuation\">-</span>db.zip\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$ pwd\n/u01/HDM/core<span class=\"token punctuation\">-</span>db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core<span class=\"token punctuation\">-</span>db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">mvn process<span class=\"token punctuation\">-</span>resources <span class=\"token punctuation\">-</span>D skipLiquibaseRun=false <span class=\"token punctuation\">-</span>D db.driver=oracle.jdbc.driver.OracleDriver <span class=\"token punctuation\">-</span>D db.url=jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST <span class=\"token punctuation\">-</span>Ddb.user=hdm <span class=\"token punctuation\">-</span>Ddb.password=z8MhZismTJ\n</code></pre>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Reactor Summary<span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> core<span class=\"token punctuation\">-</span>db <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.. SUCCESS <span class=\"token punctuation\">[</span>  1.073 s<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> BUILD SUCCESS\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Total time<span class=\"token punctuation\">:</span> 39.836 s\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Finished at<span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2017-02-09T09:55:50+08:00</span>\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> Final Memory<span class=\"token punctuation\">:</span> 68M/974M\n<span class=\"token punctuation\">[</span>INFO<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">[</span>hdm@hdm01 core<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">]</span>$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">&lt;Resource auth=\"Container\" driverClassName=\"oracle.jdbc.driver.OracleDriver\" name=\"jdbc/hbi_dev\" type=\"javax.sql.DataSource\" url=\"jdbc<span class=\"token punctuation\">:</span>oracle<span class=\"token punctuation\">:</span>thin<span class=\"token punctuation\">:</span>@ys<span class=\"token punctuation\">-</span>dbtest.jingpai.com<span class=\"token punctuation\">:</span>1531<span class=\"token punctuation\">:</span>HYTST\" username=\"hdm\" password=\"z8MhZismTJ\"/<span class=\"token punctuation\">></span>\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<h1 id=\"安装应用软件\"><a href=\"#安装应用软件\" class=\"headerlink\" title=\"安装应用软件\"></a>安装应用软件</h1><h2 id=\"介质\"><a href=\"#介质\" class=\"headerlink\" title=\"介质\"></a>介质</h2><p>####程序目录<br>mkdir -p /u01/software<br>chown -R hdm:dba /u01</p>\n<p>####上传介质</p>\n<blockquote>\n<p>hdm用户上传介质</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 software]$ pwd\n/u01/software\n[hdm@hdm01 software]$ ls -l\n-rwxrwxrwx. 1 hdm dba   8491533 Feb  7 17:10 apache-maven-3.3.9-bin.tar.gz\n-rwxrwxrwx. 1 hdm dba   9323097 Feb  7 17:10 apache-tomcat-8.5.8.tar.gz\n-rwxrwxrwx. 1 hdm dba 191659031 Feb  7 17:11 hbiparent.zip\n-rwxrwxrwx. 1 hdm dba 192091468 Feb  8 14:05 HDM_SOURCE.zip\n-rwxrwxrwx. 1 hdm dba 181442359 Feb  7 17:11 jdk-8u111-linux-x64.gz\n-rwxrwxrwx. 1 hdm dba   1544040 Feb  7 17:11 redis-3.2.5.tar.gz\n-rwxrwxrwx. 1 hdm dba       165 Feb  7 17:11 starthdm.sh\n-rwxrwxrwx. 1 hdm dba       129 Feb  7 17:11 stophdm.sh\n</code></pre>\n<h2 id=\"安装tomcat\"><a href=\"#安装tomcat\" class=\"headerlink\" title=\"安装tomcat\"></a>安装tomcat</h2><p>####下载tomcat</p>\n<blockquote>\n<p>本次安装的tomcat介质：apache-tomcat-8.5.8.tar.gz</p>\n</blockquote>\n<p>####安装tomcat</p>\n<pre><code class=\"yaml\">mkdir /u01/HDM\ncd /u01/HDM\ntar -zxvf /u01/software/apache-tomcat-8.5.8.tar.gz\n</code></pre>\n<p>####启动tomcat</p>\n<blockquote>\n<p>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh</p>\n</blockquote>\n<pre><code class=\"yaml\">[hdm@hdm01 bin]$ /u01/HDM/apache-tomcat-8.5.8/bin/startup.sh\nUsing CATALINA_BASE:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /u01/HDM/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /u01/HDM/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /u01/HDM/apache-tomcat-8.5.8/bin/bootstrap.jar:/u01/HDM/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[hdm@hdm01 bin]$\n</code></pre>\n<blockquote>\n<p>启动port端口为8080<br><em>对应的停止脚本</em><br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n</blockquote>\n<h2 id=\"安装redis\"><a href=\"#安装redis\" class=\"headerlink\" title=\"安装redis\"></a>安装redis</h2><p>####下载redis</p>\n<blockquote>\n<p>本次安装的redis介质如下：redis-3.2.5.tar.gz</p>\n</blockquote>\n<p>####安装redis</p>\n<blockquote>\n<p>cd /u01/HDM<br>tar -zxvf /u01/software/redis-3.2.5.tar.gz<br>cd /u01/HDM/redis-3.2.5<br>sudo make </p>\n</blockquote>\n<p>日志会留下如下：</p>\n<pre><code class=\"yaml\">make[1]: Leaving directory `/u01/HDM/redis-3.2.5/src&#39;\n</code></pre>\n<blockquote>\n<p>cd /u01/HDM/redis-3.2.5/src<br>mkdir /u01/HDM/redis-3.2.5/redis<br>sudo make install  PREFIX=/u01/HDM/redis-3.2.5/redis</p>\n</blockquote>\n<pre><code class=\"yaml\">日志：\nHint: It&#39;s a good idea to run &#39;make test&#39; ;)\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n    INSTALL install\n</code></pre>\n<p>####配置文件<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>先新建文件夹mkdir /u01/HDM/redis-3.2.5/logs<br>/<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong>/<br>vi /u01/HDM/redis-3.2.5/redis.conf<br>1.启动port端口为6379<br>2.将daemonize的值改为yes<br>3.logs<br>pidfile /u01/HDM/redis-3.2.5/logs/redis_6379.pid<br>logfile “/u01/HDM/redis-3.2.5/logs/redis.log”<br>dir /u01/HDM/redis-3.2.5/logs</p>\n<p>####启动redis<br>Redis放在服务器后台运行，修改配置文件属性：<br>将daemonize的值改为yes （默认值为no）</p>\n<blockquote>\n<p>启动命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>停止命令：<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown<br>　　或者<br>pkill redis-server</p>\n</blockquote>\n<p>##安装mavenv 部署工具</p>\n<p>####说明<br>安装maven</p>\n<p>####下载maven<br>URL: <a href=\"http://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/download.cgi</a><br>本次安装的maven介质如下：apache-maven-3.3.9-bin.tar.gz</p>\n<p>####安装jdk</p>\n<pre><code class=\"yaml\">cd  /u01/HDM\ntar -zxvf /u01/software/jdk-8u111-linux-x64.gz\n设置java环境变量\nexport JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre>\n<p>####安装maven</p>\n<pre><code class=\"yaml\">cd /u01/HDM\ntar -zxvf /u01/software/apache-maven-3.3.9-bin.tar.gz\n</code></pre>\n<p>####环境变量</p>\n<pre><code class=\"yaml\">配置maven的环境变量\nexport MAVEN_HOME= /u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre>\n<p>####安装后验证</p>\n<pre><code class=\"yaml\">[hdm@hdm01 ~]$ mvn -v\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-11T00:41:47+08:00)\nMaven home: /u01/HDM/apache-maven-3.3.9\nJava version: 1.8.0_111, vendor: Oracle Corporation\nJava home: /u01/HDM/jdk1.8.0_111/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;2.6.32-358.el6.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>#配置</p>\n<p>##配置数据库</p>\n<p>####创建表空间</p>\n<pre><code class=\"yaml\">CREATE TABLESPACE &quot;HDM_DATA&quot; \n    LOGGING \n    DATAFILE &#39;/u01/app/oracle/oradata/HYTST/hdm_data01.dbf&#39; SIZE 1000M \n    AUTOEXTEND \n    ON NEXT  100M MAXSIZE  8000M EXTENT MANAGEMENT LOCAL SEGMENT \nSPACE MANAGEMENT  AUTO;\n</code></pre>\n<p>####创建数据库用户</p>\n<pre><code class=\"yaml\">create user hdm identified by z8MhZismTJ default tablespace HDM_DATA TEMPORARY TABLESPACE &quot;TEMP&quot;;\n</code></pre>\n<p>####授权</p>\n<pre><code class=\"yaml\">grant connect ,resource,create view,create any directory ,create database link to hdm;\n</code></pre>\n<p>##配置应用</p>\n<p>####源代码</p>\n<pre><code class=\"yaml\">cd /u01/HDM\nunzip /u01/software/core-db.zip\n[hdm@hdm01 core-db]$ pwd\n/u01/HDM/core-db\n</code></pre>\n<p>####编译（需要连接外网）<br>(该操作只需要在一台机器上执行，第二个节点可以考虑直接拷贝core.war包)</p>\n<pre><code class=\"yaml\">在源码文件夹下执行：mvn clean install\n例如本次：\ncd  /u01/HDM/core-db\nmvn clean install\n</code></pre>\n<p>(日志显示download的包，存放在当前用户/home/user/.m2下，该部分可以拷贝)<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释开始<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/<br>这个下载时间挺长，有时会卡住，有时会执行失败，若失败就再执行一次mvn clean install。如果卡住可以等待。或者ctrl+c退出，然后再执行一次。<br>/<strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong>注释结束<strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong>/</p>\n<p>####初始化数据到hdm用户（只需要在一台机器上执行）<br>编译成功后，执行初始化数据库命令：</p>\n<pre><code class=\"yaml\">mvn process-resources -D skipLiquibaseRun=false -D db.driver=oracle.jdbc.driver.OracleDriver -D db.url=jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST -Ddb.user=hdm -Ddb.password=z8MhZismTJ\n</code></pre>\n<pre><code class=\"yaml\">[INFO] Reactor Summary:\n[INFO] core-db ............................................ SUCCESS [  1.073 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 39.836 s\n[INFO] Finished at: 2017-02-09T09:55:50+08:00\n[INFO] Final Memory: 68M/974M\n[INFO] ------------------------------------------------------------------------\n[hdm@hdm01 core-db]$\n</code></pre>\n<p>####修改tomcat<br>修改tomcat目录（/u01/HDM/apache-tomcat-8.5.8/conf）下的conf/context.xml,在最后面添加如下配置：</p>\n<pre><code class=\"yaml\">&lt;Resource auth=&quot;Container&quot; driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot; name=&quot;jdbc/hbi_dev&quot; type=&quot;javax.sql.DataSource&quot; url=&quot;jdbc:oracle:thin:@ys-dbtest.jingpai.com:1531:HYTST&quot; username=&quot;hdm&quot; password=&quot;z8MhZismTJ&quot;/&gt;\n</code></pre>\n<p>本次截图：</p>\n<p>####拷贝war包<br>将源代码目录下/core/target/core.war拷贝到tomcat的webapps目录下，<br>注意：模板文件上传路径默认如下：</p>\n<p>需要更改文件存储路径的，可修改配置文件，修改方式为：可将core.war先重命名为core.zip，找到core.zip\\WEB-INF\\classes路径下config.properties文件，进行相应修改。若修改此配置文件，则以后每次更新系统，都需要修改配置文件。</p>\n<pre><code>cp /u01/HDM/hbiparent/core/target/core.war /u01/HDM/apache-tomcat-8.5.8/webapps\n$ls -l /u01/HDM/apache-tomcat-8.5.8/webapps/core.war \n-rw-r--r--. 1 hdm dba 127410530 Feb  9 10:04 /u01/HDM/apache-tomcat-8.5.8/webapps/core.war\n</code></pre><p>####添加永久环境变量<br>编辑hdm用户目录(/home/hdm)下的.bash_profile<br>vi /home/hdm/.bash_profile</p>\n<p>设置java环境变量</p>\n<pre><code>export JAVA_HOME=/u01/HDM/jdk1.8.0_111\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_BIN=$JAVA_HOME/bin\nexport JAVA_LIB=$JAVA_HOME/lib\nexport CLASSPATH=.:$JAVA_LIB/tools.jar:$JAVA_LIB/dt.jar\n</code></pre><p>配置maven的环境变量</p>\n<pre><code>export MAVEN_HOME=/u01/HDM/apache-maven-3.3.9\nexport PATH=${MAVEN_HOME}/bin:${PATH}\nexport PATH=$PATH:/u01/HDM/redis-3.2.5/redis/bin\nexport CATALINA_HOME=/u01/HDM/apache-tomcat-8.5.8\nexport CATALINE_BASH=/u01/HDM/apache-tomcat-8.5.8\n</code></pre><p>注：修改文件后要想马上生效还要运行$ source /home/hdm/.bash_profile不然只能在下次重进此用户时生效。</p>\n<p>####redis和tomcat服务启停<br>先启动redis服务，再启动tomcat服务，<br>redis<br>启动/停止<br>/u01/HDM/redis-3.2.5/redis/bin/redis-server  /u01/HDM/redis-3.2.5/redis.conf<br>/u01/HDM/redis-3.2.5/redis/bin/redis-cli shutdown</p>\n<p>Tomcat<br>启动/停止<br>/u01/HDM/apache-tomcat-8.5.8/bin/startup.sh<br>/u01/HDM/apache-tomcat-8.5.8/bin/shutdown.sh</p>\n<p>####访问url（两个节点同样的安装方式）<br>通过http://<ip>:<prot>/core访问hdm，<br><a href=\"http://172.16.2.112:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.112:8080/core</a><br><a href=\"http://172.16.2.113:8080/core\" target=\"_blank\" rel=\"noopener\">http://172.16.2.113:8080/core</a><br>初始用户admin/admin</prot></ip></p>\n"},{"title":"Theme Config","description":"Verison 1.3.0","_content":"\nLocated to `theme config`.\n\n# Site information\n\n## Head\n\nConfigure the `<head>` in HTML.\n\n**favicon**\n\n- ico: path to an ico file\n- small: path to a 16x16 size png file\n- medium: path to a 32x32 size png file\n- apple_touch_icon: path to a png file, size between 128x128 and 192x192\n- large: path to a 192x192 size png file\n- safari_pinned_tab: path to a svg file\n\nYou can generate those needed favicon [here](https://realfavicongenerator.net). If you don't have one or more kinds of favicon mentioned above, you can simply leave it blank.\n\n**color**\n\nIt will change the color of visitor's Android Chrome Appbar Color and Safari Toolbar.\n\n> If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.\n\n**pwa_manifest**\n\nRead [Expert - PWA Manifest](/docs/en/expert/#PWA-Manifest) for more information.\n\n**open_search**\n\nRead [Expert - Open Search](/docs/en/expert/#Open-Search) for more information.\n\n**keywords**\n\nThe keywords of your site, split with `,`.\n\n**site_verification**\n\nYou can verify your site at search engine console or webmaster tools.\n\n- google: Google Webmaster Verification\n- baidu: Baidu Search Console Verification\n\nYou can get your site_verification value by doing:\n\nAfter logged in the console of search engine, choose to use `<meta>` tag to finish the verification. Then console will give you something like:\n\n```\n<meta name=\"xxxx-site-verification\" content=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxx\" />\n```\n\nThe things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.\n\n> If you use the google anylytics for your site by configure as [Third Party Services - Analytics](https://theme-suka.skk.moe/docs/en/service/#Google) mentioned, you can pass Google Webmaster Verification without any other action.\n\n## Footer\n\n**copyright_since**\n\nConfigure when your site start, which will show at the footer of your page. For instance, if you set it as `2015`, you will get something like `© 2015 - 2018` in your footer.\n\nIf you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.\n\n**custom_text**\n\nYou can configure the text you want to show at footer here, HTML Tag is supported.\n\nFor Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:\n\n```yaml\nfooter:\n  ......\n  custom_text: '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n```\n\nAnother example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:\n\n\n```yaml\nfooter:\n  .......\n  cutom_text: 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\nYou can add muilt line text by adding array here:\n\n```yaml\nfooter:\n  .......\n  cutom_text:\n    - '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n    - 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\n# Custom Configuration\n\n## UIUX\n\n**slogan**\n\nIt will show at your site header. Muilt line text is supported.\n\nAn example for one line slogan:\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: Hi, nice to meet you.\n```\n\nAn example for muilt line slogan:\n\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: \n   - Hi, nice to meet you.\n   - This is my Blog\n```\n\n**link_color**\n\nThe color of hyper_link color\n\n**primary_color**\n\nThe primary color of the theme, will be used at some button components.\n\n**bg_color**\n\nThe background color.\n\n\n## img\n\n**avatar**\n\nPath to your avatar.\n\n# Menu Configuration\n\n## nav\n\nConfigure the link which will be show at header.\n\n**Home**\n\nA link to the home of your site. Set `use: true` to enable it.\n\n**Archives**\n\nA link to the archive pages of your site. Set `use: true` to enable it.\n\n**rss**\n\nAfter your installation and configuration of `hexo-generator-feed` plugin, you can set `use: true` to enable it.\n\n**search**\n\nSet `use: true` to enable it, and `links` with the url of your search page.\n\n**pages**\n\nSome other configuration of your pages' entry.\n\n```yaml\n    Name:\n        link: \"/about/\"\n```\n\nIt is a unit of an entry to pages. You can add muilt entries for your other pages.\n\n\n## sns_share\n\nDdefined the menu items which will be shown in share menu.\n\n\"Suka\" support to share your site or posts to those socail media:\n\n- weibo\n- facebook\n- twitter\n- telegram\n- googleplus\n- linkedin\n- qq\n\n## qrcode\n\nOutput qrcode of current page to share menu.\n\n> You don't need to install `hexo-helper-qrcode` plugin as \"Suka\" Theme has already built in a qrcode generate plugin.\n\n**index_share**\n\nWhether to show qrcode in share menu for site, `true` or `false`.\n\n**post_share**\n\nWhether to show qrcode in share menu for posts & pages, `true` or `false`.\n\n# Post information\n\n## entry_excerpt\n\nYou should always use `<!-- more -->` to cut your post more accurately. If you don't have `<!-- more -->` in some posts the home page outputs the character length of the digest you configured here.\n\n## expire\n\nWhen you set it true, visitor can see some notify like `This article was last updated on %s days ago, and the information described in the article may have changed.` at the end of your post which hasn't been modified for more than 90 days.\n\n## share\n\nEnable share menu for posts and pages or not.\n\n## license\n\nYou can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.\n\nFor instance, you can configure Creative Commons as:\n\n```yaml\npost:\n  ......\n  license: 'The page is under<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" target=\"_blank\">CC BY-NC-SA 4.0 International</a>'\n```\n\nYou can also override the configuration for some specific posts by adding front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n# toc\n\nConfiguration for Table of Content\n\n**enable**\n\nEnable it or not.\n\n> If you want override the configuration for some specific posts you can add the related front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n**line_number**\n\nEnable line number for ToC or not.\n","source":"en/linux.md","raw":"---\ntitle: Theme Config\npermalink: /en/linux/\ndescription: Verison 1.3.0\n---\n\nLocated to `theme config`.\n\n# Site information\n\n## Head\n\nConfigure the `<head>` in HTML.\n\n**favicon**\n\n- ico: path to an ico file\n- small: path to a 16x16 size png file\n- medium: path to a 32x32 size png file\n- apple_touch_icon: path to a png file, size between 128x128 and 192x192\n- large: path to a 192x192 size png file\n- safari_pinned_tab: path to a svg file\n\nYou can generate those needed favicon [here](https://realfavicongenerator.net). If you don't have one or more kinds of favicon mentioned above, you can simply leave it blank.\n\n**color**\n\nIt will change the color of visitor's Android Chrome Appbar Color and Safari Toolbar.\n\n> If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.\n\n**pwa_manifest**\n\nRead [Expert - PWA Manifest](/docs/en/expert/#PWA-Manifest) for more information.\n\n**open_search**\n\nRead [Expert - Open Search](/docs/en/expert/#Open-Search) for more information.\n\n**keywords**\n\nThe keywords of your site, split with `,`.\n\n**site_verification**\n\nYou can verify your site at search engine console or webmaster tools.\n\n- google: Google Webmaster Verification\n- baidu: Baidu Search Console Verification\n\nYou can get your site_verification value by doing:\n\nAfter logged in the console of search engine, choose to use `<meta>` tag to finish the verification. Then console will give you something like:\n\n```\n<meta name=\"xxxx-site-verification\" content=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxx\" />\n```\n\nThe things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.\n\n> If you use the google anylytics for your site by configure as [Third Party Services - Analytics](https://theme-suka.skk.moe/docs/en/service/#Google) mentioned, you can pass Google Webmaster Verification without any other action.\n\n## Footer\n\n**copyright_since**\n\nConfigure when your site start, which will show at the footer of your page. For instance, if you set it as `2015`, you will get something like `© 2015 - 2018` in your footer.\n\nIf you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.\n\n**custom_text**\n\nYou can configure the text you want to show at footer here, HTML Tag is supported.\n\nFor Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:\n\n```yaml\nfooter:\n  ......\n  custom_text: '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n```\n\nAnother example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:\n\n\n```yaml\nfooter:\n  .......\n  cutom_text: 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\nYou can add muilt line text by adding array here:\n\n```yaml\nfooter:\n  .......\n  cutom_text:\n    - '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n    - 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\n# Custom Configuration\n\n## UIUX\n\n**slogan**\n\nIt will show at your site header. Muilt line text is supported.\n\nAn example for one line slogan:\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: Hi, nice to meet you.\n```\n\nAn example for muilt line slogan:\n\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: \n   - Hi, nice to meet you.\n   - This is my Blog\n```\n\n**link_color**\n\nThe color of hyper_link color\n\n**primary_color**\n\nThe primary color of the theme, will be used at some button components.\n\n**bg_color**\n\nThe background color.\n\n\n## img\n\n**avatar**\n\nPath to your avatar.\n\n# Menu Configuration\n\n## nav\n\nConfigure the link which will be show at header.\n\n**Home**\n\nA link to the home of your site. Set `use: true` to enable it.\n\n**Archives**\n\nA link to the archive pages of your site. Set `use: true` to enable it.\n\n**rss**\n\nAfter your installation and configuration of `hexo-generator-feed` plugin, you can set `use: true` to enable it.\n\n**search**\n\nSet `use: true` to enable it, and `links` with the url of your search page.\n\n**pages**\n\nSome other configuration of your pages' entry.\n\n```yaml\n    Name:\n        link: \"/about/\"\n```\n\nIt is a unit of an entry to pages. You can add muilt entries for your other pages.\n\n\n## sns_share\n\nDdefined the menu items which will be shown in share menu.\n\n\"Suka\" support to share your site or posts to those socail media:\n\n- weibo\n- facebook\n- twitter\n- telegram\n- googleplus\n- linkedin\n- qq\n\n## qrcode\n\nOutput qrcode of current page to share menu.\n\n> You don't need to install `hexo-helper-qrcode` plugin as \"Suka\" Theme has already built in a qrcode generate plugin.\n\n**index_share**\n\nWhether to show qrcode in share menu for site, `true` or `false`.\n\n**post_share**\n\nWhether to show qrcode in share menu for posts & pages, `true` or `false`.\n\n# Post information\n\n## entry_excerpt\n\nYou should always use `<!-- more -->` to cut your post more accurately. If you don't have `<!-- more -->` in some posts the home page outputs the character length of the digest you configured here.\n\n## expire\n\nWhen you set it true, visitor can see some notify like `This article was last updated on %s days ago, and the information described in the article may have changed.` at the end of your post which hasn't been modified for more than 90 days.\n\n## share\n\nEnable share menu for posts and pages or not.\n\n## license\n\nYou can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.\n\nFor instance, you can configure Creative Commons as:\n\n```yaml\npost:\n  ......\n  license: 'The page is under<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" target=\"_blank\">CC BY-NC-SA 4.0 International</a>'\n```\n\nYou can also override the configuration for some specific posts by adding front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n# toc\n\nConfiguration for Table of Content\n\n**enable**\n\nEnable it or not.\n\n> If you want override the configuration for some specific posts you can add the related front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n**line_number**\n\nEnable line number for ToC or not.\n","date":"2019-04-10T15:55:26.354Z","updated":"2019-04-10T15:55:26.354Z","path":"/en/linux/index.html","comments":1,"layout":"page","_id":"cjubf4fh00005qsteg3almti7","content":"<p>Located to <code>theme config</code>.</p>\n<h1 id=\"Site-information\"><a href=\"#Site-information\" class=\"headerlink\" title=\"Site information\"></a>Site information</h1><h2 id=\"Head\"><a href=\"#Head\" class=\"headerlink\" title=\"Head\"></a>Head</h2><p>Configure the <code>&lt;head&gt;</code> in HTML.</p>\n<p><strong>favicon</strong></p>\n<ul>\n<li>ico: path to an ico file</li>\n<li>small: path to a 16x16 size png file</li>\n<li>medium: path to a 32x32 size png file</li>\n<li>apple_touch_icon: path to a png file, size between 128x128 and 192x192</li>\n<li>large: path to a 192x192 size png file</li>\n<li>safari_pinned_tab: path to a svg file</li>\n</ul>\n<p>You can generate those needed favicon <a href=\"https://realfavicongenerator.net\" target=\"_blank\" rel=\"noopener\">here</a>. If you don’t have one or more kinds of favicon mentioned above, you can simply leave it blank.</p>\n<p><strong>color</strong></p>\n<p>It will change the color of visitor’s Android Chrome Appbar Color and Safari Toolbar.</p>\n<blockquote>\n<p>If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.</p>\n</blockquote>\n<p><strong>pwa_manifest</strong></p>\n<p>Read <a href=\"/docs/en/expert/#PWA-Manifest\">Expert - PWA Manifest</a> for more information.</p>\n<p><strong>open_search</strong></p>\n<p>Read <a href=\"/docs/en/expert/#Open-Search\">Expert - Open Search</a> for more information.</p>\n<p><strong>keywords</strong></p>\n<p>The keywords of your site, split with <code>,</code>.</p>\n<p><strong>site_verification</strong></p>\n<p>You can verify your site at search engine console or webmaster tools.</p>\n<ul>\n<li>google: Google Webmaster Verification</li>\n<li>baidu: Baidu Search Console Verification</li>\n</ul>\n<p>You can get your site_verification value by doing:</p>\n<p>After logged in the console of search engine, choose to use <code>&lt;meta&gt;</code> tag to finish the verification. Then console will give you something like:</p>\n<pre><code>&lt;meta name=&quot;xxxx-site-verification&quot; content=&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot; /&gt;\n</code></pre><p>The things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.</p>\n<blockquote>\n<p>If you use the google anylytics for your site by configure as <a href=\"https://theme-suka.skk.moe/docs/en/service/#Google\" target=\"_blank\" rel=\"noopener\">Third Party Services - Analytics</a> mentioned, you can pass Google Webmaster Verification without any other action.</p>\n</blockquote>\n<h2 id=\"Footer\"><a href=\"#Footer\" class=\"headerlink\" title=\"Footer\"></a>Footer</h2><p><strong>copyright_since</strong></p>\n<p>Configure when your site start, which will show at the footer of your page. For instance, if you set it as <code>2015</code>, you will get something like <code>© 2015 - 2018</code> in your footer.</p>\n<p>If you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.</p>\n<p><strong>custom_text</strong></p>\n<p>You can configure the text you want to show at footer here, HTML Tag is supported.</p>\n<p>For Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">footer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>\n  <span class=\"token key atrule\">custom_text</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x&lt;/a>'</span>\n</code></pre>\n<p>Another example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">footer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.\n  <span class=\"token key atrule\">cutom_text</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Hosted on &lt;a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages&lt;/a>'</span>\n</code></pre>\n<p>You can add muilt line text by adding array here:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">footer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.\n  <span class=\"token key atrule\">cutom_text</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">'&lt;a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x&lt;/a>'</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">'Hosted on &lt;a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages&lt;/a>'</span>\n</code></pre>\n<h1 id=\"Custom-Configuration\"><a href=\"#Custom-Configuration\" class=\"headerlink\" title=\"Custom Configuration\"></a>Custom Configuration</h1><h2 id=\"UIUX\"><a href=\"#UIUX\" class=\"headerlink\" title=\"UIUX\"></a>UIUX</h2><p><strong>slogan</strong></p>\n<p>It will show at your site header. Muilt line text is supported.</p>\n<p>An example for one line slogan:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">uiux</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\" spellcheck=\"true\"># Muilt line slogan is supported.</span>\n  <span class=\"token key atrule\">slogan</span><span class=\"token punctuation\">:</span> Hi<span class=\"token punctuation\">,</span> nice to meet you.\n</code></pre>\n<p>An example for muilt line slogan:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">uiux</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\" spellcheck=\"true\"># Muilt line slogan is supported.</span>\n  <span class=\"token key atrule\">slogan</span><span class=\"token punctuation\">:</span> \n   <span class=\"token punctuation\">-</span> Hi<span class=\"token punctuation\">,</span> nice to meet you.\n   <span class=\"token punctuation\">-</span> This is my Blog\n</code></pre>\n<p><strong>link_color</strong></p>\n<p>The color of hyper_link color</p>\n<p><strong>primary_color</strong></p>\n<p>The primary color of the theme, will be used at some button components.</p>\n<p><strong>bg_color</strong></p>\n<p>The background color.</p>\n<h2 id=\"img\"><a href=\"#img\" class=\"headerlink\" title=\"img\"></a>img</h2><p><strong>avatar</strong></p>\n<p>Path to your avatar.</p>\n<h1 id=\"Menu-Configuration\"><a href=\"#Menu-Configuration\" class=\"headerlink\" title=\"Menu Configuration\"></a>Menu Configuration</h1><h2 id=\"nav\"><a href=\"#nav\" class=\"headerlink\" title=\"nav\"></a>nav</h2><p>Configure the link which will be show at header.</p>\n<p><strong>Home</strong></p>\n<p>A link to the home of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>Archives</strong></p>\n<p>A link to the archive pages of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>rss</strong></p>\n<p>After your installation and configuration of <code>hexo-generator-feed</code> plugin, you can set <code>use: true</code> to enable it.</p>\n<p><strong>search</strong></p>\n<p>Set <code>use: true</code> to enable it, and <code>links</code> with the url of your search page.</p>\n<p><strong>pages</strong></p>\n<p>Some other configuration of your pages’ entry.</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">    <span class=\"token key atrule\">Name</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/about/\"</span>\n</code></pre>\n<p>It is a unit of an entry to pages. You can add muilt entries for your other pages.</p>\n<h2 id=\"sns-share\"><a href=\"#sns-share\" class=\"headerlink\" title=\"sns_share\"></a>sns_share</h2><p>Ddefined the menu items which will be shown in share menu.</p>\n<p>“Suka” support to share your site or posts to those socail media:</p>\n<ul>\n<li>weibo</li>\n<li>facebook</li>\n<li>twitter</li>\n<li>telegram</li>\n<li>googleplus</li>\n<li>linkedin</li>\n<li>qq</li>\n</ul>\n<h2 id=\"qrcode\"><a href=\"#qrcode\" class=\"headerlink\" title=\"qrcode\"></a>qrcode</h2><p>Output qrcode of current page to share menu.</p>\n<blockquote>\n<p>You don’t need to install <code>hexo-helper-qrcode</code> plugin as “Suka” Theme has already built in a qrcode generate plugin.</p>\n</blockquote>\n<p><strong>index_share</strong></p>\n<p>Whether to show qrcode in share menu for site, <code>true</code> or <code>false</code>.</p>\n<p><strong>post_share</strong></p>\n<p>Whether to show qrcode in share menu for posts &amp; pages, <code>true</code> or <code>false</code>.</p>\n<h1 id=\"Post-information\"><a href=\"#Post-information\" class=\"headerlink\" title=\"Post information\"></a>Post information</h1><h2 id=\"entry-excerpt\"><a href=\"#entry-excerpt\" class=\"headerlink\" title=\"entry_excerpt\"></a>entry_excerpt</h2><p>You should always use <code>&lt;!-- more --&gt;</code> to cut your post more accurately. If you don’t have <code>&lt;!-- more --&gt;</code> in some posts the home page outputs the character length of the digest you configured here.</p>\n<h2 id=\"expire\"><a href=\"#expire\" class=\"headerlink\" title=\"expire\"></a>expire</h2><p>When you set it true, visitor can see some notify like <code>This article was last updated on %s days ago, and the information described in the article may have changed.</code> at the end of your post which hasn’t been modified for more than 90 days.</p>\n<h2 id=\"share\"><a href=\"#share\" class=\"headerlink\" title=\"share\"></a>share</h2><p>Enable share menu for posts and pages or not.</p>\n<h2 id=\"license\"><a href=\"#license\" class=\"headerlink\" title=\"license\"></a>license</h2><p>You can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.</p>\n<p>For instance, you can configure Creative Commons as:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">post</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>\n  <span class=\"token key atrule\">license</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'The page is under&lt;a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" target=\"_blank\">CC BY-NC-SA 4.0 International&lt;/a>'</span>\n</code></pre>\n<p>You can also override the configuration for some specific posts by adding front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n<h1 id=\"toc\"><a href=\"#toc\" class=\"headerlink\" title=\"toc\"></a>toc</h1><p>Configuration for Table of Content</p>\n<p><strong>enable</strong></p>\n<p>Enable it or not.</p>\n<blockquote>\n<p>If you want override the configuration for some specific posts you can add the related front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n</blockquote>\n<p><strong>line_number</strong></p>\n<p>Enable line number for ToC or not.</p>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<p>Located to <code>theme config</code>.</p>\n<h1 id=\"Site-information\"><a href=\"#Site-information\" class=\"headerlink\" title=\"Site information\"></a>Site information</h1><h2 id=\"Head\"><a href=\"#Head\" class=\"headerlink\" title=\"Head\"></a>Head</h2><p>Configure the <code>&lt;head&gt;</code> in HTML.</p>\n<p><strong>favicon</strong></p>\n<ul>\n<li>ico: path to an ico file</li>\n<li>small: path to a 16x16 size png file</li>\n<li>medium: path to a 32x32 size png file</li>\n<li>apple_touch_icon: path to a png file, size between 128x128 and 192x192</li>\n<li>large: path to a 192x192 size png file</li>\n<li>safari_pinned_tab: path to a svg file</li>\n</ul>\n<p>You can generate those needed favicon <a href=\"https://realfavicongenerator.net\" target=\"_blank\" rel=\"noopener\">here</a>. If you don’t have one or more kinds of favicon mentioned above, you can simply leave it blank.</p>\n<p><strong>color</strong></p>\n<p>It will change the color of visitor’s Android Chrome Appbar Color and Safari Toolbar.</p>\n<blockquote>\n<p>If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.</p>\n</blockquote>\n<p><strong>pwa_manifest</strong></p>\n<p>Read <a href=\"/docs/en/expert/#PWA-Manifest\">Expert - PWA Manifest</a> for more information.</p>\n<p><strong>open_search</strong></p>\n<p>Read <a href=\"/docs/en/expert/#Open-Search\">Expert - Open Search</a> for more information.</p>\n<p><strong>keywords</strong></p>\n<p>The keywords of your site, split with <code>,</code>.</p>\n<p><strong>site_verification</strong></p>\n<p>You can verify your site at search engine console or webmaster tools.</p>\n<ul>\n<li>google: Google Webmaster Verification</li>\n<li>baidu: Baidu Search Console Verification</li>\n</ul>\n<p>You can get your site_verification value by doing:</p>\n<p>After logged in the console of search engine, choose to use <code>&lt;meta&gt;</code> tag to finish the verification. Then console will give you something like:</p>\n<pre><code>&lt;meta name=&quot;xxxx-site-verification&quot; content=&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot; /&gt;\n</code></pre><p>The things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.</p>\n<blockquote>\n<p>If you use the google anylytics for your site by configure as <a href=\"https://theme-suka.skk.moe/docs/en/service/#Google\" target=\"_blank\" rel=\"noopener\">Third Party Services - Analytics</a> mentioned, you can pass Google Webmaster Verification without any other action.</p>\n</blockquote>\n<h2 id=\"Footer\"><a href=\"#Footer\" class=\"headerlink\" title=\"Footer\"></a>Footer</h2><p><strong>copyright_since</strong></p>\n<p>Configure when your site start, which will show at the footer of your page. For instance, if you set it as <code>2015</code>, you will get something like <code>© 2015 - 2018</code> in your footer.</p>\n<p>If you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.</p>\n<p><strong>custom_text</strong></p>\n<p>You can configure the text you want to show at footer here, HTML Tag is supported.</p>\n<p>For Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:</p>\n<pre><code class=\"yaml\">footer:\n  ......\n  custom_text: &#39;&lt;a href=&quot;http://www.miitbeian.gov.cn&quot; rel=&quot;nofollow&quot;&gt;某ICP备xxxxxxxx号-x&lt;/a&gt;&#39;\n</code></pre>\n<p>Another example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:</p>\n<pre><code class=\"yaml\">footer:\n  .......\n  cutom_text: &#39;Hosted on &lt;a href=&quot;https://pages.coding.me&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Coding Pages&lt;/a&gt;&#39;\n</code></pre>\n<p>You can add muilt line text by adding array here:</p>\n<pre><code class=\"yaml\">footer:\n  .......\n  cutom_text:\n    - &#39;&lt;a href=&quot;http://www.miitbeian.gov.cn&quot; rel=&quot;nofollow&quot;&gt;某ICP备xxxxxxxx号-x&lt;/a&gt;&#39;\n    - &#39;Hosted on &lt;a href=&quot;https://pages.coding.me&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Coding Pages&lt;/a&gt;&#39;\n</code></pre>\n<h1 id=\"Custom-Configuration\"><a href=\"#Custom-Configuration\" class=\"headerlink\" title=\"Custom Configuration\"></a>Custom Configuration</h1><h2 id=\"UIUX\"><a href=\"#UIUX\" class=\"headerlink\" title=\"UIUX\"></a>UIUX</h2><p><strong>slogan</strong></p>\n<p>It will show at your site header. Muilt line text is supported.</p>\n<p>An example for one line slogan:</p>\n<pre><code class=\"yaml\">uiux:\n  # Muilt line slogan is supported.\n  slogan: Hi, nice to meet you.\n</code></pre>\n<p>An example for muilt line slogan:</p>\n<pre><code class=\"yaml\">uiux:\n  # Muilt line slogan is supported.\n  slogan: \n   - Hi, nice to meet you.\n   - This is my Blog\n</code></pre>\n<p><strong>link_color</strong></p>\n<p>The color of hyper_link color</p>\n<p><strong>primary_color</strong></p>\n<p>The primary color of the theme, will be used at some button components.</p>\n<p><strong>bg_color</strong></p>\n<p>The background color.</p>\n<h2 id=\"img\"><a href=\"#img\" class=\"headerlink\" title=\"img\"></a>img</h2><p><strong>avatar</strong></p>\n<p>Path to your avatar.</p>\n<h1 id=\"Menu-Configuration\"><a href=\"#Menu-Configuration\" class=\"headerlink\" title=\"Menu Configuration\"></a>Menu Configuration</h1><h2 id=\"nav\"><a href=\"#nav\" class=\"headerlink\" title=\"nav\"></a>nav</h2><p>Configure the link which will be show at header.</p>\n<p><strong>Home</strong></p>\n<p>A link to the home of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>Archives</strong></p>\n<p>A link to the archive pages of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>rss</strong></p>\n<p>After your installation and configuration of <code>hexo-generator-feed</code> plugin, you can set <code>use: true</code> to enable it.</p>\n<p><strong>search</strong></p>\n<p>Set <code>use: true</code> to enable it, and <code>links</code> with the url of your search page.</p>\n<p><strong>pages</strong></p>\n<p>Some other configuration of your pages’ entry.</p>\n<pre><code class=\"yaml\">    Name:\n        link: &quot;/about/&quot;\n</code></pre>\n<p>It is a unit of an entry to pages. You can add muilt entries for your other pages.</p>\n<h2 id=\"sns-share\"><a href=\"#sns-share\" class=\"headerlink\" title=\"sns_share\"></a>sns_share</h2><p>Ddefined the menu items which will be shown in share menu.</p>\n<p>“Suka” support to share your site or posts to those socail media:</p>\n<ul>\n<li>weibo</li>\n<li>facebook</li>\n<li>twitter</li>\n<li>telegram</li>\n<li>googleplus</li>\n<li>linkedin</li>\n<li>qq</li>\n</ul>\n<h2 id=\"qrcode\"><a href=\"#qrcode\" class=\"headerlink\" title=\"qrcode\"></a>qrcode</h2><p>Output qrcode of current page to share menu.</p>\n<blockquote>\n<p>You don’t need to install <code>hexo-helper-qrcode</code> plugin as “Suka” Theme has already built in a qrcode generate plugin.</p>\n</blockquote>\n<p><strong>index_share</strong></p>\n<p>Whether to show qrcode in share menu for site, <code>true</code> or <code>false</code>.</p>\n<p><strong>post_share</strong></p>\n<p>Whether to show qrcode in share menu for posts &amp; pages, <code>true</code> or <code>false</code>.</p>\n<h1 id=\"Post-information\"><a href=\"#Post-information\" class=\"headerlink\" title=\"Post information\"></a>Post information</h1><h2 id=\"entry-excerpt\"><a href=\"#entry-excerpt\" class=\"headerlink\" title=\"entry_excerpt\"></a>entry_excerpt</h2><p>You should always use <code>&lt;!-- more --&gt;</code> to cut your post more accurately. If you don’t have <code>&lt;!-- more --&gt;</code> in some posts the home page outputs the character length of the digest you configured here.</p>\n<h2 id=\"expire\"><a href=\"#expire\" class=\"headerlink\" title=\"expire\"></a>expire</h2><p>When you set it true, visitor can see some notify like <code>This article was last updated on %s days ago, and the information described in the article may have changed.</code> at the end of your post which hasn’t been modified for more than 90 days.</p>\n<h2 id=\"share\"><a href=\"#share\" class=\"headerlink\" title=\"share\"></a>share</h2><p>Enable share menu for posts and pages or not.</p>\n<h2 id=\"license\"><a href=\"#license\" class=\"headerlink\" title=\"license\"></a>license</h2><p>You can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.</p>\n<p>For instance, you can configure Creative Commons as:</p>\n<pre><code class=\"yaml\">post:\n  ......\n  license: &#39;The page is under&lt;a href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;CC BY-NC-SA 4.0 International&lt;/a&gt;&#39;\n</code></pre>\n<p>You can also override the configuration for some specific posts by adding front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n<h1 id=\"toc\"><a href=\"#toc\" class=\"headerlink\" title=\"toc\"></a>toc</h1><p>Configuration for Table of Content</p>\n<p><strong>enable</strong></p>\n<p>Enable it or not.</p>\n<blockquote>\n<p>If you want override the configuration for some specific posts you can add the related front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n</blockquote>\n<p><strong>line_number</strong></p>\n<p>Enable line number for ToC or not.</p>\n"},{"title":"Linux Question","description":"Verison 1.3.0","_content":"\nLocated to `theme config`.\n\n# Site information\n\n## Head\n\nConfigure the `<head>` in HTML.\n\n**favicon**\n\n- ico: path to an ico file\n- small: path to a 16x16 size png file\n- medium: path to a 32x32 size png file\n- apple_touch_icon: path to a png file, size between 128x128 and 192x192\n- large: path to a 192x192 size png file\n- safari_pinned_tab: path to a svg file\n\nYou can generate those needed favicon [here](https://realfavicongenerator.net). If you don't have one or more kinds of favicon mentioned above, you can simply leave it blank.\n\n**color**\n\nIt will change the color of visitor's Android Chrome Appbar Color and Safari Toolbar.\n\n> If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.\n\n**pwa_manifest**\n\nRead [Expert - PWA Manifest](/docs/en/expert/#PWA-Manifest) for more information.\n\n**open_search**\n\nRead [Expert - Open Search](/docs/en/expert/#Open-Search) for more information.\n\n**keywords**\n\nThe keywords of your site, split with `,`.\n\n**site_verification**\n\nYou can verify your site at search engine console or webmaster tools.\n\n- google: Google Webmaster Verification\n- baidu: Baidu Search Console Verification\n\nYou can get your site_verification value by doing:\n\nAfter logged in the console of search engine, choose to use `<meta>` tag to finish the verification. Then console will give you something like:\n\n```\n<meta name=\"xxxx-site-verification\" content=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxx\" />\n```\n\nThe things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.\n\n> If you use the google anylytics for your site by configure as [Third Party Services - Analytics](https://theme-suka.skk.moe/docs/en/service/#Google) mentioned, you can pass Google Webmaster Verification without any other action.\n\n## Footer\n\n**copyright_since**\n\nConfigure when your site start, which will show at the footer of your page. For instance, if you set it as `2015`, you will get something like `© 2015 - 2018` in your footer.\n\nIf you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.\n\n**custom_text**\n\nYou can configure the text you want to show at footer here, HTML Tag is supported.\n\nFor Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:\n\n```yaml\nfooter:\n  ......\n  custom_text: '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n```\n\nAnother example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:\n\n\n```yaml\nfooter:\n  .......\n  cutom_text: 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\nYou can add muilt line text by adding array here:\n\n```yaml\nfooter:\n  .......\n  cutom_text:\n    - '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n    - 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\n# Custom Configuration\n\n## UIUX\n\n**slogan**\n\nIt will show at your site header. Muilt line text is supported.\n\nAn example for one line slogan:\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: Hi, nice to meet you.\n```\n\nAn example for muilt line slogan:\n\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: \n   - Hi, nice to meet you.\n   - This is my Blog\n```\n\n**link_color**\n\nThe color of hyper_link color\n\n**primary_color**\n\nThe primary color of the theme, will be used at some button components.\n\n**bg_color**\n\nThe background color.\n\n\n## img\n\n**avatar**\n\nPath to your avatar.\n\n# Menu Configuration\n\n## nav\n\nConfigure the link which will be show at header.\n\n**Home**\n\nA link to the home of your site. Set `use: true` to enable it.\n\n**Archives**\n\nA link to the archive pages of your site. Set `use: true` to enable it.\n\n**rss**\n\nAfter your installation and configuration of `hexo-generator-feed` plugin, you can set `use: true` to enable it.\n\n**search**\n\nSet `use: true` to enable it, and `links` with the url of your search page.\n\n**pages**\n\nSome other configuration of your pages' entry.\n\n```yaml\n    Name:\n        link: \"/about/\"\n```\n\nIt is a unit of an entry to pages. You can add muilt entries for your other pages.\n\n\n## sns_share\n\nDdefined the menu items which will be shown in share menu.\n\n\"Suka\" support to share your site or posts to those socail media:\n\n- weibo\n- facebook\n- twitter\n- telegram\n- googleplus\n- linkedin\n- qq\n\n## qrcode\n\nOutput qrcode of current page to share menu.\n\n> You don't need to install `hexo-helper-qrcode` plugin as \"Suka\" Theme has already built in a qrcode generate plugin.\n\n**index_share**\n\nWhether to show qrcode in share menu for site, `true` or `false`.\n\n**post_share**\n\nWhether to show qrcode in share menu for posts & pages, `true` or `false`.\n\n# Post information\n\n## entry_excerpt\n\nYou should always use `<!-- more -->` to cut your post more accurately. If you don't have `<!-- more -->` in some posts the home page outputs the character length of the digest you configured here.\n\n## expire\n\nWhen you set it true, visitor can see some notify like `This article was last updated on %s days ago, and the information described in the article may have changed.` at the end of your post which hasn't been modified for more than 90 days.\n\n## share\n\nEnable share menu for posts and pages or not.\n\n## license\n\nYou can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.\n\nFor instance, you can configure Creative Commons as:\n\n```yaml\npost:\n  ......\n  license: 'The page is under<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" target=\"_blank\">CC BY-NC-SA 4.0 International</a>'\n```\n\nYou can also override the configuration for some specific posts by adding front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n# toc\n\nConfiguration for Table of Content\n\n**enable**\n\nEnable it or not.\n\n> If you want override the configuration for some specific posts you can add the related front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n**line_number**\n\nEnable line number for ToC or not.\n","source":"en/linux_question.md","raw":"---\ntitle: Linux Question\npermalink: /en/linux_question/\ndescription: Verison 1.3.0\n---\n\nLocated to `theme config`.\n\n# Site information\n\n## Head\n\nConfigure the `<head>` in HTML.\n\n**favicon**\n\n- ico: path to an ico file\n- small: path to a 16x16 size png file\n- medium: path to a 32x32 size png file\n- apple_touch_icon: path to a png file, size between 128x128 and 192x192\n- large: path to a 192x192 size png file\n- safari_pinned_tab: path to a svg file\n\nYou can generate those needed favicon [here](https://realfavicongenerator.net). If you don't have one or more kinds of favicon mentioned above, you can simply leave it blank.\n\n**color**\n\nIt will change the color of visitor's Android Chrome Appbar Color and Safari Toolbar.\n\n> If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.\n\n**pwa_manifest**\n\nRead [Expert - PWA Manifest](/docs/en/expert/#PWA-Manifest) for more information.\n\n**open_search**\n\nRead [Expert - Open Search](/docs/en/expert/#Open-Search) for more information.\n\n**keywords**\n\nThe keywords of your site, split with `,`.\n\n**site_verification**\n\nYou can verify your site at search engine console or webmaster tools.\n\n- google: Google Webmaster Verification\n- baidu: Baidu Search Console Verification\n\nYou can get your site_verification value by doing:\n\nAfter logged in the console of search engine, choose to use `<meta>` tag to finish the verification. Then console will give you something like:\n\n```\n<meta name=\"xxxx-site-verification\" content=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxx\" />\n```\n\nThe things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.\n\n> If you use the google anylytics for your site by configure as [Third Party Services - Analytics](https://theme-suka.skk.moe/docs/en/service/#Google) mentioned, you can pass Google Webmaster Verification without any other action.\n\n## Footer\n\n**copyright_since**\n\nConfigure when your site start, which will show at the footer of your page. For instance, if you set it as `2015`, you will get something like `© 2015 - 2018` in your footer.\n\nIf you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.\n\n**custom_text**\n\nYou can configure the text you want to show at footer here, HTML Tag is supported.\n\nFor Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:\n\n```yaml\nfooter:\n  ......\n  custom_text: '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n```\n\nAnother example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:\n\n\n```yaml\nfooter:\n  .......\n  cutom_text: 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\nYou can add muilt line text by adding array here:\n\n```yaml\nfooter:\n  .......\n  cutom_text:\n    - '<a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x</a>'\n    - 'Hosted on <a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages</a>'\n```\n\n# Custom Configuration\n\n## UIUX\n\n**slogan**\n\nIt will show at your site header. Muilt line text is supported.\n\nAn example for one line slogan:\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: Hi, nice to meet you.\n```\n\nAn example for muilt line slogan:\n\n\n```yaml\nuiux:\n  # Muilt line slogan is supported.\n  slogan: \n   - Hi, nice to meet you.\n   - This is my Blog\n```\n\n**link_color**\n\nThe color of hyper_link color\n\n**primary_color**\n\nThe primary color of the theme, will be used at some button components.\n\n**bg_color**\n\nThe background color.\n\n\n## img\n\n**avatar**\n\nPath to your avatar.\n\n# Menu Configuration\n\n## nav\n\nConfigure the link which will be show at header.\n\n**Home**\n\nA link to the home of your site. Set `use: true` to enable it.\n\n**Archives**\n\nA link to the archive pages of your site. Set `use: true` to enable it.\n\n**rss**\n\nAfter your installation and configuration of `hexo-generator-feed` plugin, you can set `use: true` to enable it.\n\n**search**\n\nSet `use: true` to enable it, and `links` with the url of your search page.\n\n**pages**\n\nSome other configuration of your pages' entry.\n\n```yaml\n    Name:\n        link: \"/about/\"\n```\n\nIt is a unit of an entry to pages. You can add muilt entries for your other pages.\n\n\n## sns_share\n\nDdefined the menu items which will be shown in share menu.\n\n\"Suka\" support to share your site or posts to those socail media:\n\n- weibo\n- facebook\n- twitter\n- telegram\n- googleplus\n- linkedin\n- qq\n\n## qrcode\n\nOutput qrcode of current page to share menu.\n\n> You don't need to install `hexo-helper-qrcode` plugin as \"Suka\" Theme has already built in a qrcode generate plugin.\n\n**index_share**\n\nWhether to show qrcode in share menu for site, `true` or `false`.\n\n**post_share**\n\nWhether to show qrcode in share menu for posts & pages, `true` or `false`.\n\n# Post information\n\n## entry_excerpt\n\nYou should always use `<!-- more -->` to cut your post more accurately. If you don't have `<!-- more -->` in some posts the home page outputs the character length of the digest you configured here.\n\n## expire\n\nWhen you set it true, visitor can see some notify like `This article was last updated on %s days ago, and the information described in the article may have changed.` at the end of your post which hasn't been modified for more than 90 days.\n\n## share\n\nEnable share menu for posts and pages or not.\n\n## license\n\nYou can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.\n\nFor instance, you can configure Creative Commons as:\n\n```yaml\npost:\n  ......\n  license: 'The page is under<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" target=\"_blank\">CC BY-NC-SA 4.0 International</a>'\n```\n\nYou can also override the configuration for some specific posts by adding front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n# toc\n\nConfiguration for Table of Content\n\n**enable**\n\nEnable it or not.\n\n> If you want override the configuration for some specific posts you can add the related front-matter, see [Compose - Front Matter](https://theme-suka.skk.moe/docs/en/compose/#Front-Matter) for more details.\n\n**line_number**\n\nEnable line number for ToC or not.\n","date":"2019-04-10T15:55:26.355Z","updated":"2019-04-10T15:55:26.355Z","path":"/en/linux_question/index.html","comments":1,"layout":"page","_id":"cjubf4fh10006qstefchsla5x","content":"<p>Located to <code>theme config</code>.</p>\n<h1 id=\"Site-information\"><a href=\"#Site-information\" class=\"headerlink\" title=\"Site information\"></a>Site information</h1><h2 id=\"Head\"><a href=\"#Head\" class=\"headerlink\" title=\"Head\"></a>Head</h2><p>Configure the <code>&lt;head&gt;</code> in HTML.</p>\n<p><strong>favicon</strong></p>\n<ul>\n<li>ico: path to an ico file</li>\n<li>small: path to a 16x16 size png file</li>\n<li>medium: path to a 32x32 size png file</li>\n<li>apple_touch_icon: path to a png file, size between 128x128 and 192x192</li>\n<li>large: path to a 192x192 size png file</li>\n<li>safari_pinned_tab: path to a svg file</li>\n</ul>\n<p>You can generate those needed favicon <a href=\"https://realfavicongenerator.net\" target=\"_blank\" rel=\"noopener\">here</a>. If you don’t have one or more kinds of favicon mentioned above, you can simply leave it blank.</p>\n<p><strong>color</strong></p>\n<p>It will change the color of visitor’s Android Chrome Appbar Color and Safari Toolbar.</p>\n<blockquote>\n<p>If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.</p>\n</blockquote>\n<p><strong>pwa_manifest</strong></p>\n<p>Read <a href=\"/docs/en/expert/#PWA-Manifest\">Expert - PWA Manifest</a> for more information.</p>\n<p><strong>open_search</strong></p>\n<p>Read <a href=\"/docs/en/expert/#Open-Search\">Expert - Open Search</a> for more information.</p>\n<p><strong>keywords</strong></p>\n<p>The keywords of your site, split with <code>,</code>.</p>\n<p><strong>site_verification</strong></p>\n<p>You can verify your site at search engine console or webmaster tools.</p>\n<ul>\n<li>google: Google Webmaster Verification</li>\n<li>baidu: Baidu Search Console Verification</li>\n</ul>\n<p>You can get your site_verification value by doing:</p>\n<p>After logged in the console of search engine, choose to use <code>&lt;meta&gt;</code> tag to finish the verification. Then console will give you something like:</p>\n<pre><code>&lt;meta name=&quot;xxxx-site-verification&quot; content=&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot; /&gt;\n</code></pre><p>The things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.</p>\n<blockquote>\n<p>If you use the google anylytics for your site by configure as <a href=\"https://theme-suka.skk.moe/docs/en/service/#Google\" target=\"_blank\" rel=\"noopener\">Third Party Services - Analytics</a> mentioned, you can pass Google Webmaster Verification without any other action.</p>\n</blockquote>\n<h2 id=\"Footer\"><a href=\"#Footer\" class=\"headerlink\" title=\"Footer\"></a>Footer</h2><p><strong>copyright_since</strong></p>\n<p>Configure when your site start, which will show at the footer of your page. For instance, if you set it as <code>2015</code>, you will get something like <code>© 2015 - 2018</code> in your footer.</p>\n<p>If you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.</p>\n<p><strong>custom_text</strong></p>\n<p>You can configure the text you want to show at footer here, HTML Tag is supported.</p>\n<p>For Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">footer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>\n  <span class=\"token key atrule\">custom_text</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x&lt;/a>'</span>\n</code></pre>\n<p>Another example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">footer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.\n  <span class=\"token key atrule\">cutom_text</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Hosted on &lt;a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages&lt;/a>'</span>\n</code></pre>\n<p>You can add muilt line text by adding array here:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">footer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>.\n  <span class=\"token key atrule\">cutom_text</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">'&lt;a href=\"http://www.miitbeian.gov.cn\" rel=\"nofollow\">某ICP备xxxxxxxx号-x&lt;/a>'</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">'Hosted on &lt;a href=\"https://pages.coding.me\" rel=\"nofollow noopener noreferrer\">Coding Pages&lt;/a>'</span>\n</code></pre>\n<h1 id=\"Custom-Configuration\"><a href=\"#Custom-Configuration\" class=\"headerlink\" title=\"Custom Configuration\"></a>Custom Configuration</h1><h2 id=\"UIUX\"><a href=\"#UIUX\" class=\"headerlink\" title=\"UIUX\"></a>UIUX</h2><p><strong>slogan</strong></p>\n<p>It will show at your site header. Muilt line text is supported.</p>\n<p>An example for one line slogan:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">uiux</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\" spellcheck=\"true\"># Muilt line slogan is supported.</span>\n  <span class=\"token key atrule\">slogan</span><span class=\"token punctuation\">:</span> Hi<span class=\"token punctuation\">,</span> nice to meet you.\n</code></pre>\n<p>An example for muilt line slogan:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">uiux</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\" spellcheck=\"true\"># Muilt line slogan is supported.</span>\n  <span class=\"token key atrule\">slogan</span><span class=\"token punctuation\">:</span> \n   <span class=\"token punctuation\">-</span> Hi<span class=\"token punctuation\">,</span> nice to meet you.\n   <span class=\"token punctuation\">-</span> This is my Blog\n</code></pre>\n<p><strong>link_color</strong></p>\n<p>The color of hyper_link color</p>\n<p><strong>primary_color</strong></p>\n<p>The primary color of the theme, will be used at some button components.</p>\n<p><strong>bg_color</strong></p>\n<p>The background color.</p>\n<h2 id=\"img\"><a href=\"#img\" class=\"headerlink\" title=\"img\"></a>img</h2><p><strong>avatar</strong></p>\n<p>Path to your avatar.</p>\n<h1 id=\"Menu-Configuration\"><a href=\"#Menu-Configuration\" class=\"headerlink\" title=\"Menu Configuration\"></a>Menu Configuration</h1><h2 id=\"nav\"><a href=\"#nav\" class=\"headerlink\" title=\"nav\"></a>nav</h2><p>Configure the link which will be show at header.</p>\n<p><strong>Home</strong></p>\n<p>A link to the home of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>Archives</strong></p>\n<p>A link to the archive pages of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>rss</strong></p>\n<p>After your installation and configuration of <code>hexo-generator-feed</code> plugin, you can set <code>use: true</code> to enable it.</p>\n<p><strong>search</strong></p>\n<p>Set <code>use: true</code> to enable it, and <code>links</code> with the url of your search page.</p>\n<p><strong>pages</strong></p>\n<p>Some other configuration of your pages’ entry.</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\">    <span class=\"token key atrule\">Name</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">link</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/about/\"</span>\n</code></pre>\n<p>It is a unit of an entry to pages. You can add muilt entries for your other pages.</p>\n<h2 id=\"sns-share\"><a href=\"#sns-share\" class=\"headerlink\" title=\"sns_share\"></a>sns_share</h2><p>Ddefined the menu items which will be shown in share menu.</p>\n<p>“Suka” support to share your site or posts to those socail media:</p>\n<ul>\n<li>weibo</li>\n<li>facebook</li>\n<li>twitter</li>\n<li>telegram</li>\n<li>googleplus</li>\n<li>linkedin</li>\n<li>qq</li>\n</ul>\n<h2 id=\"qrcode\"><a href=\"#qrcode\" class=\"headerlink\" title=\"qrcode\"></a>qrcode</h2><p>Output qrcode of current page to share menu.</p>\n<blockquote>\n<p>You don’t need to install <code>hexo-helper-qrcode</code> plugin as “Suka” Theme has already built in a qrcode generate plugin.</p>\n</blockquote>\n<p><strong>index_share</strong></p>\n<p>Whether to show qrcode in share menu for site, <code>true</code> or <code>false</code>.</p>\n<p><strong>post_share</strong></p>\n<p>Whether to show qrcode in share menu for posts &amp; pages, <code>true</code> or <code>false</code>.</p>\n<h1 id=\"Post-information\"><a href=\"#Post-information\" class=\"headerlink\" title=\"Post information\"></a>Post information</h1><h2 id=\"entry-excerpt\"><a href=\"#entry-excerpt\" class=\"headerlink\" title=\"entry_excerpt\"></a>entry_excerpt</h2><p>You should always use <code>&lt;!-- more --&gt;</code> to cut your post more accurately. If you don’t have <code>&lt;!-- more --&gt;</code> in some posts the home page outputs the character length of the digest you configured here.</p>\n<h2 id=\"expire\"><a href=\"#expire\" class=\"headerlink\" title=\"expire\"></a>expire</h2><p>When you set it true, visitor can see some notify like <code>This article was last updated on %s days ago, and the information described in the article may have changed.</code> at the end of your post which hasn’t been modified for more than 90 days.</p>\n<h2 id=\"share\"><a href=\"#share\" class=\"headerlink\" title=\"share\"></a>share</h2><p>Enable share menu for posts and pages or not.</p>\n<h2 id=\"license\"><a href=\"#license\" class=\"headerlink\" title=\"license\"></a>license</h2><p>You can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.</p>\n<p>For instance, you can configure Creative Commons as:</p>\n<pre class=\" highlight language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">post</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span><span class=\"token punctuation\">...</span>\n  <span class=\"token key atrule\">license</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'The page is under&lt;a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" target=\"_blank\">CC BY-NC-SA 4.0 International&lt;/a>'</span>\n</code></pre>\n<p>You can also override the configuration for some specific posts by adding front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n<h1 id=\"toc\"><a href=\"#toc\" class=\"headerlink\" title=\"toc\"></a>toc</h1><p>Configuration for Table of Content</p>\n<p><strong>enable</strong></p>\n<p>Enable it or not.</p>\n<blockquote>\n<p>If you want override the configuration for some specific posts you can add the related front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n</blockquote>\n<p><strong>line_number</strong></p>\n<p>Enable line number for ToC or not.</p>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<p>Located to <code>theme config</code>.</p>\n<h1 id=\"Site-information\"><a href=\"#Site-information\" class=\"headerlink\" title=\"Site information\"></a>Site information</h1><h2 id=\"Head\"><a href=\"#Head\" class=\"headerlink\" title=\"Head\"></a>Head</h2><p>Configure the <code>&lt;head&gt;</code> in HTML.</p>\n<p><strong>favicon</strong></p>\n<ul>\n<li>ico: path to an ico file</li>\n<li>small: path to a 16x16 size png file</li>\n<li>medium: path to a 32x32 size png file</li>\n<li>apple_touch_icon: path to a png file, size between 128x128 and 192x192</li>\n<li>large: path to a 192x192 size png file</li>\n<li>safari_pinned_tab: path to a svg file</li>\n</ul>\n<p>You can generate those needed favicon <a href=\"https://realfavicongenerator.net\" target=\"_blank\" rel=\"noopener\">here</a>. If you don’t have one or more kinds of favicon mentioned above, you can simply leave it blank.</p>\n<p><strong>color</strong></p>\n<p>It will change the color of visitor’s Android Chrome Appbar Color and Safari Toolbar.</p>\n<blockquote>\n<p>If you leave this option blank but configure the site background color below, the toolbar color will fallback to the background color you configured.</p>\n</blockquote>\n<p><strong>pwa_manifest</strong></p>\n<p>Read <a href=\"/docs/en/expert/#PWA-Manifest\">Expert - PWA Manifest</a> for more information.</p>\n<p><strong>open_search</strong></p>\n<p>Read <a href=\"/docs/en/expert/#Open-Search\">Expert - Open Search</a> for more information.</p>\n<p><strong>keywords</strong></p>\n<p>The keywords of your site, split with <code>,</code>.</p>\n<p><strong>site_verification</strong></p>\n<p>You can verify your site at search engine console or webmaster tools.</p>\n<ul>\n<li>google: Google Webmaster Verification</li>\n<li>baidu: Baidu Search Console Verification</li>\n</ul>\n<p>You can get your site_verification value by doing:</p>\n<p>After logged in the console of search engine, choose to use <code>&lt;meta&gt;</code> tag to finish the verification. Then console will give you something like:</p>\n<pre><code>&lt;meta name=&quot;xxxx-site-verification&quot; content=&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot; /&gt;\n</code></pre><p>The things like xxxxxxxxxxxxxxxxxxxxxxxxxxxx is your site_verification value.</p>\n<blockquote>\n<p>If you use the google anylytics for your site by configure as <a href=\"https://theme-suka.skk.moe/docs/en/service/#Google\" target=\"_blank\" rel=\"noopener\">Third Party Services - Analytics</a> mentioned, you can pass Google Webmaster Verification without any other action.</p>\n</blockquote>\n<h2 id=\"Footer\"><a href=\"#Footer\" class=\"headerlink\" title=\"Footer\"></a>Footer</h2><p><strong>copyright_since</strong></p>\n<p>Configure when your site start, which will show at the footer of your page. For instance, if you set it as <code>2015</code>, you will get something like <code>© 2015 - 2018</code> in your footer.</p>\n<p>If you leave it blank, there will be only current year in footer. Also, if your site start in current year, it will only show current year either.</p>\n<p><strong>custom_text</strong></p>\n<p>You can configure the text you want to show at footer here, HTML Tag is supported.</p>\n<p>For Instance, if you run your site in China and you already have a valid ICP License, you can configure it as:</p>\n<pre><code class=\"yaml\">footer:\n  ......\n  custom_text: &#39;&lt;a href=&quot;http://www.miitbeian.gov.cn&quot; rel=&quot;nofollow&quot;&gt;某ICP备xxxxxxxx号-x&lt;/a&gt;&#39;\n</code></pre>\n<p>Another example, you host your site on Coding Pages. To avoid the ad redirect page, you can configure it as:</p>\n<pre><code class=\"yaml\">footer:\n  .......\n  cutom_text: &#39;Hosted on &lt;a href=&quot;https://pages.coding.me&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Coding Pages&lt;/a&gt;&#39;\n</code></pre>\n<p>You can add muilt line text by adding array here:</p>\n<pre><code class=\"yaml\">footer:\n  .......\n  cutom_text:\n    - &#39;&lt;a href=&quot;http://www.miitbeian.gov.cn&quot; rel=&quot;nofollow&quot;&gt;某ICP备xxxxxxxx号-x&lt;/a&gt;&#39;\n    - &#39;Hosted on &lt;a href=&quot;https://pages.coding.me&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Coding Pages&lt;/a&gt;&#39;\n</code></pre>\n<h1 id=\"Custom-Configuration\"><a href=\"#Custom-Configuration\" class=\"headerlink\" title=\"Custom Configuration\"></a>Custom Configuration</h1><h2 id=\"UIUX\"><a href=\"#UIUX\" class=\"headerlink\" title=\"UIUX\"></a>UIUX</h2><p><strong>slogan</strong></p>\n<p>It will show at your site header. Muilt line text is supported.</p>\n<p>An example for one line slogan:</p>\n<pre><code class=\"yaml\">uiux:\n  # Muilt line slogan is supported.\n  slogan: Hi, nice to meet you.\n</code></pre>\n<p>An example for muilt line slogan:</p>\n<pre><code class=\"yaml\">uiux:\n  # Muilt line slogan is supported.\n  slogan: \n   - Hi, nice to meet you.\n   - This is my Blog\n</code></pre>\n<p><strong>link_color</strong></p>\n<p>The color of hyper_link color</p>\n<p><strong>primary_color</strong></p>\n<p>The primary color of the theme, will be used at some button components.</p>\n<p><strong>bg_color</strong></p>\n<p>The background color.</p>\n<h2 id=\"img\"><a href=\"#img\" class=\"headerlink\" title=\"img\"></a>img</h2><p><strong>avatar</strong></p>\n<p>Path to your avatar.</p>\n<h1 id=\"Menu-Configuration\"><a href=\"#Menu-Configuration\" class=\"headerlink\" title=\"Menu Configuration\"></a>Menu Configuration</h1><h2 id=\"nav\"><a href=\"#nav\" class=\"headerlink\" title=\"nav\"></a>nav</h2><p>Configure the link which will be show at header.</p>\n<p><strong>Home</strong></p>\n<p>A link to the home of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>Archives</strong></p>\n<p>A link to the archive pages of your site. Set <code>use: true</code> to enable it.</p>\n<p><strong>rss</strong></p>\n<p>After your installation and configuration of <code>hexo-generator-feed</code> plugin, you can set <code>use: true</code> to enable it.</p>\n<p><strong>search</strong></p>\n<p>Set <code>use: true</code> to enable it, and <code>links</code> with the url of your search page.</p>\n<p><strong>pages</strong></p>\n<p>Some other configuration of your pages’ entry.</p>\n<pre><code class=\"yaml\">    Name:\n        link: &quot;/about/&quot;\n</code></pre>\n<p>It is a unit of an entry to pages. You can add muilt entries for your other pages.</p>\n<h2 id=\"sns-share\"><a href=\"#sns-share\" class=\"headerlink\" title=\"sns_share\"></a>sns_share</h2><p>Ddefined the menu items which will be shown in share menu.</p>\n<p>“Suka” support to share your site or posts to those socail media:</p>\n<ul>\n<li>weibo</li>\n<li>facebook</li>\n<li>twitter</li>\n<li>telegram</li>\n<li>googleplus</li>\n<li>linkedin</li>\n<li>qq</li>\n</ul>\n<h2 id=\"qrcode\"><a href=\"#qrcode\" class=\"headerlink\" title=\"qrcode\"></a>qrcode</h2><p>Output qrcode of current page to share menu.</p>\n<blockquote>\n<p>You don’t need to install <code>hexo-helper-qrcode</code> plugin as “Suka” Theme has already built in a qrcode generate plugin.</p>\n</blockquote>\n<p><strong>index_share</strong></p>\n<p>Whether to show qrcode in share menu for site, <code>true</code> or <code>false</code>.</p>\n<p><strong>post_share</strong></p>\n<p>Whether to show qrcode in share menu for posts &amp; pages, <code>true</code> or <code>false</code>.</p>\n<h1 id=\"Post-information\"><a href=\"#Post-information\" class=\"headerlink\" title=\"Post information\"></a>Post information</h1><h2 id=\"entry-excerpt\"><a href=\"#entry-excerpt\" class=\"headerlink\" title=\"entry_excerpt\"></a>entry_excerpt</h2><p>You should always use <code>&lt;!-- more --&gt;</code> to cut your post more accurately. If you don’t have <code>&lt;!-- more --&gt;</code> in some posts the home page outputs the character length of the digest you configured here.</p>\n<h2 id=\"expire\"><a href=\"#expire\" class=\"headerlink\" title=\"expire\"></a>expire</h2><p>When you set it true, visitor can see some notify like <code>This article was last updated on %s days ago, and the information described in the article may have changed.</code> at the end of your post which hasn’t been modified for more than 90 days.</p>\n<h2 id=\"share\"><a href=\"#share\" class=\"headerlink\" title=\"share\"></a>share</h2><p>Enable share menu for posts and pages or not.</p>\n<h2 id=\"license\"><a href=\"#license\" class=\"headerlink\" title=\"license\"></a>license</h2><p>You can configure the copyrights of your posts here, which will be shown at the end of your post; HTML Tag is supported. The license will includes author, permalinks and your copyright.</p>\n<p>For instance, you can configure Creative Commons as:</p>\n<pre><code class=\"yaml\">post:\n  ......\n  license: &#39;The page is under&lt;a href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/&quot; target=&quot;_blank&quot;&gt;CC BY-NC-SA 4.0 International&lt;/a&gt;&#39;\n</code></pre>\n<p>You can also override the configuration for some specific posts by adding front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n<h1 id=\"toc\"><a href=\"#toc\" class=\"headerlink\" title=\"toc\"></a>toc</h1><p>Configuration for Table of Content</p>\n<p><strong>enable</strong></p>\n<p>Enable it or not.</p>\n<blockquote>\n<p>If you want override the configuration for some specific posts you can add the related front-matter, see <a href=\"https://theme-suka.skk.moe/docs/en/compose/#Front-Matter\" target=\"_blank\" rel=\"noopener\">Compose - Front Matter</a> for more details.</p>\n</blockquote>\n<p><strong>line_number</strong></p>\n<p>Enable line number for ToC or not.</p>\n"},{"title":"Compose","_content":"\n# Add new post\n\n## Use terminal and shell\n\n```bash\nhexo new <title>\n```\n\n## Manually\n\nAdd a markdown file (`.md`) in `source/_posts` folder of your hexo project.\n\n# Front-Matter\n\n[Hexo Documents - Front-Matter](https://hexo.io/zh-cn/docs/front-matter.html)\n\n\"Suka\" not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:\n\n| Name          | Description                | Default Valu      |\n|:--            |:--                         |:--                |\n| `thumbnail`   | The thumbnail url for post |                   |\n| `toc`         | Show TOC or not            | true              |\n| `busuanzi_offset` | Busuanzi Offset for current page | 0       |\n| `license`     | Override the configuration in theme config for current page | |\n","source":"en/windows.md","raw":"---\ntitle: Compose\npermalink: /en/windows/\n---\n\n# Add new post\n\n## Use terminal and shell\n\n```bash\nhexo new <title>\n```\n\n## Manually\n\nAdd a markdown file (`.md`) in `source/_posts` folder of your hexo project.\n\n# Front-Matter\n\n[Hexo Documents - Front-Matter](https://hexo.io/zh-cn/docs/front-matter.html)\n\n\"Suka\" not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:\n\n| Name          | Description                | Default Valu      |\n|:--            |:--                         |:--                |\n| `thumbnail`   | The thumbnail url for post |                   |\n| `toc`         | Show TOC or not            | true              |\n| `busuanzi_offset` | Busuanzi Offset for current page | 0       |\n| `license`     | Override the configuration in theme config for current page | |\n","date":"2019-04-10T15:55:26.356Z","updated":"2019-04-10T15:55:26.356Z","path":"/en/windows/index.html","comments":1,"layout":"page","_id":"cjubf4fh20007qsteokjo08pv","content":"<h1 id=\"Add-new-post\"><a href=\"#Add-new-post\" class=\"headerlink\" title=\"Add new post\"></a>Add new post</h1><h2 id=\"Use-terminal-and-shell\"><a href=\"#Use-terminal-and-shell\" class=\"headerlink\" title=\"Use terminal and shell\"></a>Use terminal and shell</h2><pre class=\" highlight language-bash\"><code class=\"language-bash\">hexo new <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>\n</code></pre>\n<h2 id=\"Manually\"><a href=\"#Manually\" class=\"headerlink\" title=\"Manually\"></a>Manually</h2><p>Add a markdown file (<code>.md</code>) in <code>source/_posts</code> folder of your hexo project.</p>\n<h1 id=\"Front-Matter\"><a href=\"#Front-Matter\" class=\"headerlink\" title=\"Front-Matter\"></a>Front-Matter</h1><p><a href=\"https://hexo.io/zh-cn/docs/front-matter.html\" target=\"_blank\" rel=\"noopener\">Hexo Documents - Front-Matter</a></p>\n<p>“Suka” not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Description</th>\n<th style=\"text-align:left\">Default Valu</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>thumbnail</code></td>\n<td style=\"text-align:left\">The thumbnail url for post</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>toc</code></td>\n<td style=\"text-align:left\">Show TOC or not</td>\n<td style=\"text-align:left\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>busuanzi_offset</code></td>\n<td style=\"text-align:left\">Busuanzi Offset for current page</td>\n<td style=\"text-align:left\">0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>license</code></td>\n<td style=\"text-align:left\">Override the configuration in theme config for current page</td>\n</tr>\n</tbody>\n</table>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<h1 id=\"Add-new-post\"><a href=\"#Add-new-post\" class=\"headerlink\" title=\"Add new post\"></a>Add new post</h1><h2 id=\"Use-terminal-and-shell\"><a href=\"#Use-terminal-and-shell\" class=\"headerlink\" title=\"Use terminal and shell\"></a>Use terminal and shell</h2><pre><code class=\"bash\">hexo new &lt;title&gt;\n</code></pre>\n<h2 id=\"Manually\"><a href=\"#Manually\" class=\"headerlink\" title=\"Manually\"></a>Manually</h2><p>Add a markdown file (<code>.md</code>) in <code>source/_posts</code> folder of your hexo project.</p>\n<h1 id=\"Front-Matter\"><a href=\"#Front-Matter\" class=\"headerlink\" title=\"Front-Matter\"></a>Front-Matter</h1><p><a href=\"https://hexo.io/zh-cn/docs/front-matter.html\" target=\"_blank\" rel=\"noopener\">Hexo Documents - Front-Matter</a></p>\n<p>“Suka” not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Description</th>\n<th style=\"text-align:left\">Default Valu</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>thumbnail</code></td>\n<td style=\"text-align:left\">The thumbnail url for post</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>toc</code></td>\n<td style=\"text-align:left\">Show TOC or not</td>\n<td style=\"text-align:left\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>busuanzi_offset</code></td>\n<td style=\"text-align:left\">Busuanzi Offset for current page</td>\n<td style=\"text-align:left\">0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>license</code></td>\n<td style=\"text-align:left\">Override the configuration in theme config for current page</td>\n</tr>\n</tbody>\n</table>\n"},{"title":"Windows Question","_content":"\n# Add new post\n\n## Use terminal and shell\n\n```bash\nhexo new <title>\n```\n\n## Manually\n\nAdd a markdown file (`.md`) in `source/_posts` folder of your hexo project.\n\n# Front-Matter\n\n[Hexo Documents - Front-Matter](https://hexo.io/zh-cn/docs/front-matter.html)\n\n\"Suka\" not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:\n\n| Name          | Description                | Default Valu      |\n|:--            |:--                         |:--                |\n| `thumbnail`   | The thumbnail url for post |                   |\n| `toc`         | Show TOC or not            | true              |\n| `busuanzi_offset` | Busuanzi Offset for current page | 0       |\n| `license`     | Override the configuration in theme config for current page | |\n","source":"en/windows_question.md","raw":"---\ntitle: Windows Question\npermalink: /en/windows_question/\n---\n\n# Add new post\n\n## Use terminal and shell\n\n```bash\nhexo new <title>\n```\n\n## Manually\n\nAdd a markdown file (`.md`) in `source/_posts` folder of your hexo project.\n\n# Front-Matter\n\n[Hexo Documents - Front-Matter](https://hexo.io/zh-cn/docs/front-matter.html)\n\n\"Suka\" not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:\n\n| Name          | Description                | Default Valu      |\n|:--            |:--                         |:--                |\n| `thumbnail`   | The thumbnail url for post |                   |\n| `toc`         | Show TOC or not            | true              |\n| `busuanzi_offset` | Busuanzi Offset for current page | 0       |\n| `license`     | Override the configuration in theme config for current page | |\n","date":"2019-04-10T15:55:26.357Z","updated":"2019-04-10T15:55:26.357Z","path":"/en/windows_question/index.html","comments":1,"layout":"page","_id":"cjubf4fh30008qste5s6o9trh","content":"<h1 id=\"Add-new-post\"><a href=\"#Add-new-post\" class=\"headerlink\" title=\"Add new post\"></a>Add new post</h1><h2 id=\"Use-terminal-and-shell\"><a href=\"#Use-terminal-and-shell\" class=\"headerlink\" title=\"Use terminal and shell\"></a>Use terminal and shell</h2><pre class=\" highlight language-bash\"><code class=\"language-bash\">hexo new <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>\n</code></pre>\n<h2 id=\"Manually\"><a href=\"#Manually\" class=\"headerlink\" title=\"Manually\"></a>Manually</h2><p>Add a markdown file (<code>.md</code>) in <code>source/_posts</code> folder of your hexo project.</p>\n<h1 id=\"Front-Matter\"><a href=\"#Front-Matter\" class=\"headerlink\" title=\"Front-Matter\"></a>Front-Matter</h1><p><a href=\"https://hexo.io/zh-cn/docs/front-matter.html\" target=\"_blank\" rel=\"noopener\">Hexo Documents - Front-Matter</a></p>\n<p>“Suka” not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Description</th>\n<th style=\"text-align:left\">Default Valu</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>thumbnail</code></td>\n<td style=\"text-align:left\">The thumbnail url for post</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>toc</code></td>\n<td style=\"text-align:left\">Show TOC or not</td>\n<td style=\"text-align:left\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>busuanzi_offset</code></td>\n<td style=\"text-align:left\">Busuanzi Offset for current page</td>\n<td style=\"text-align:left\">0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>license</code></td>\n<td style=\"text-align:left\">Override the configuration in theme config for current page</td>\n</tr>\n</tbody>\n</table>\n","site":{"data":{"menu":[{"code":"hdmdesc","path":""},{"code":"linux","path":"linux/"},{"code":"windows","path":"windows/"},{"code":"question","path":"question/","children":[{"code":"linux_question","path":"linux_question/"},{"code":"windows_question","path":"windows_question/"}]}]}},"excerpt":"","more":"<h1 id=\"Add-new-post\"><a href=\"#Add-new-post\" class=\"headerlink\" title=\"Add new post\"></a>Add new post</h1><h2 id=\"Use-terminal-and-shell\"><a href=\"#Use-terminal-and-shell\" class=\"headerlink\" title=\"Use terminal and shell\"></a>Use terminal and shell</h2><pre><code class=\"bash\">hexo new &lt;title&gt;\n</code></pre>\n<h2 id=\"Manually\"><a href=\"#Manually\" class=\"headerlink\" title=\"Manually\"></a>Manually</h2><p>Add a markdown file (<code>.md</code>) in <code>source/_posts</code> folder of your hexo project.</p>\n<h1 id=\"Front-Matter\"><a href=\"#Front-Matter\" class=\"headerlink\" title=\"Front-Matter\"></a>Front-Matter</h1><p><a href=\"https://hexo.io/zh-cn/docs/front-matter.html\" target=\"_blank\" rel=\"noopener\">Hexo Documents - Front-Matter</a></p>\n<p>“Suka” not only support the option in hexo documents mentioned above, bus also support those extended front-matter below:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Description</th>\n<th style=\"text-align:left\">Default Valu</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>thumbnail</code></td>\n<td style=\"text-align:left\">The thumbnail url for post</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>toc</code></td>\n<td style=\"text-align:left\">Show TOC or not</td>\n<td style=\"text-align:left\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>busuanzi_offset</code></td>\n<td style=\"text-align:left\">Busuanzi Offset for current page</td>\n<td style=\"text-align:left\">0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>license</code></td>\n<td style=\"text-align:left\">Override the configuration in theme config for current page</td>\n</tr>\n</tbody>\n</table>\n"}],"Post":[],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}